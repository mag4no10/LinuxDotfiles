(()=>{"use strict";const e="checkoutGetSetting",n="iFrameOriginUrl";function t(e,n,t){const s=t&&t.ignoreResponse;return new Promise(((o,r)=>{const c={content:JSON.stringify(n),dest:t,service:"messages:cs",type:e};s?(window.chrome.runtime.sendMessage(c),o()):window.chrome.runtime.sendMessage(c,null,(n=>{if(window.chrome.runtime.lastError){const e=new Error(`Honey Checkout Content: Chrome messaging error in content.send(): ${window.chrome.runtime.lastError.message}`);e.sentMessage=c,r(e)}else if(!n||n.noListeners){const n=new Error(`Honey Checkout Content: No listeners for message of type ${e} in content.send()`);n.sentMessage=c,r(n)}else if(n.success)o(n.data);else{const e=n&&n.error,t=new Error(e&&e.message);t.sentMessage=c,e&&(t.data=e.data,t.stack=`${t.stack||""}${e.stack||""}`),r(t)}}))})).catch((e=>{if(!s)throw e}))}var s=function(e,n,t,s){return new(t||(t=Promise))((function(o,r){function c(e){try{a(s.next(e))}catch(e){r(e)}}function i(e){try{a(s.throw(e))}catch(e){r(e)}}function a(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(c,i)}a((s=s.apply(e,n||[])).next())}))};!function(){s(this,void 0,void 0,(function*(){const s=yield function(e,n={},s={}){return t("checkout:action:background",{action:e,data:n},Object.assign(Object.assign({},s),{background:!0}))}(e,{checkoutSettingKey:n}),o=document.createElement("script");o.src=window.chrome.runtime.getURL("/checkoutPaypal/merchantSPBResponders.js"),o.setAttribute("data-iframeurl",s),(document.head||document.documentElement).appendChild(o)}))}()})();