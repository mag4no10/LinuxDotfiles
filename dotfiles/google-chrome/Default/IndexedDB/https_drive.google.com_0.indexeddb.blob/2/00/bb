ÿÿo"contentB†Ÿ/*_M:v5OVgf*/
try{
_.B("v5OVgf");

/*

 Copyright 2020 Google LLC
 SPDX-License-Identifier: Apache-2.0
*/
/*

 Copyright 2022 Google LLC
 SPDX-License-Identifier: Apache-2.0
*/
var gHg=function(a,b){a.removeAttribute("srcdoc");if(!(b instanceof _.bj))throw new fHg(typeof b,1);_.tc(a,b);for(b="allow-same-origin allow-scripts allow-forms allow-popups allow-popups-to-escape-sandbox allow-storage-access-by-user-activation".split(" ");0<a.sandbox.length;)a.sandbox.remove(a.sandbox.item(0));for(var c=0;c<b.length;c++)a.sandbox.supports&&!a.sandbox.supports(b[c])||a.sandbox.add(b[c])},hHg=function(a,b,c){c=c?c.end+1:b.start;return new _.aT(c,c+a-1<b.end?c+a-1:b.end)},iHg=function(a,
b){var c,d;return _.jh(function(e){if(1==e.H)return(c=_.DL(a))?e.Zd(0):_.bh(e,b,3);d=e.O;_.wWc(a,_.p(d,4));_.ch(e)})},jHg=function(a,b){return a+"|"+b},mHg=function(a){var b=new kHg,c=new U0;a=_.t(c,1,a?2:1);return _.ci(b,1,lHg,a)},rHg=function(a,b,c,d){var e=new V0;a=_.t(e,1,a);b=_.t(a,2,b);a=new nHg;c=_.t(a,1,_.sXc[c]);c=_.ci(b,3,oHg,c);d=pHg(new qHg,_.uXc[d]);return _.z(c,4,d)},uHg=function(a){return sHg(tHg(9),a).Dc()},vHg=function(a){return sHg(tHg(10),a).Dc()},wHg=function(a){return null==a?
void 0:_.lK(a)},xHg=function(){for(var a=0,b=0;b<arguments.length;b++)a+=arguments[b].length;a=new Uint8Array(a);for(var c=b=0;c<arguments.length;c++)a.set(arguments[c],b),b+=arguments[c].length;return a},zHg=function(a){var b=yHg.get(a);if(!b)throw new W0("Key manager for key type "+a+" has not been registered.");return b},AHg=function(a,b){var c,d,e;return _.jh(function(f){if(1==f.H){if(b instanceof X0){if(c&&_.J(b,1)!=c)throw new W0("Key type is "+c+", but it is expected to be "+_.J(b,1)+" or undefined.");
c=_.J(b,1)}if(!c)throw new W0("Key type has to be specified.");d=zHg(c);return _.bh(f,d.AV(a,b),2)}e=f.O;if(!(e instanceof a))throw new TypeError("Oq");return f.return(e)})},IHg=function(a){return _.jh(function(b){var c=_.J(a,1);zHg(c);if(!BHg.get(c))throw new W0("New key operation is forbidden for key type: "+c+".");c=b.return;var d=wHg(a.Za());if(d instanceof Uint8Array){try{var e=_.Hi(d,CHg)}catch(f){throw new W0("Could not parse the input as a serialized proto of type.googleapis.com/google.crypto.tink.AesGcmKey key format.");
}if(!_.ji(e,2))throw new W0("Could not parse the input as a serialized proto of type.googleapis.com/google.crypto.tink.AesGcmKey key format.");}else if(d instanceof DHg)e=d;else throw new W0("Expected AesGcmKeyFormat-proto");d=e;EHg(_.ji(d,2));e=new FHg;d=GHg(_.ji(d,2));e=_.sla(e,3,d);e=_.lb(e,1,0,0);d=new X0;d=_.nb(d,1,"type.googleapis.com/google.crypto.tink.AesGcmKey");e=_.ri(d.Gb(_.Ii(e,HHg)),3,1);return c.call(b,e)})},GHg=function(a){if(!Number.isInteger(a)||0>a)throw new JHg("n must be a nonnegative integer");
a=new Uint8Array(a);crypto.getRandomValues(a);return a},NHg=function(){var a=KHg(),b;return _.jh(function(c){if(1==c.H)return _.bh(c,LHg(a),2);b=c.O;return c.return(new MHg(b))})},LHg=function(a){var b,c,d,e;return _.jh(function(f){if(1==f.H){var h=(new Y0).kc(1);b=_.ri(h,4,_.se(a,3,0));h=GHg(4);for(var k=0,l=0;l<h.length;l++)k+=(h[l]&255)<<8*l;c=Math.abs(k)%Math.pow(2,32);_.lb(b,3,c,0);return _.bh(f,IHg(a),2)}d=f.O;_.z(b,1,d);e=new OHg;_.di(e,2,Y0,b);_.lb(e,1,c,0);return f.return(e)})},EHg=function(a){if(!PHg.includes(a))throw new JHg("unsupported AES key size: "+
a);},QHg=function(a){if(null==a||!(a instanceof Uint8Array))throw new JHg("input must be a non null Uint8Array");},SHg=function(a){var b;return _.jh(function(c){if(1==c.H)return QHg(a),EHg(a.length),_.bh(c,self.crypto.subtle.importKey("raw",a,{name:"AES-GCM",length:a.length},!1,["encrypt","decrypt"]),2);b=c.O;return c.return(new RHg(b))})},WHg=function(a,b){var c,d,e;return _.jh(function(f){switch(f.H){case 1:if(!_.Oh(b,1))throw new Z0("keyMetadata","Key metadata must include key format");c=b.H();
switch(c){case 0:case 1:return f.Zd(2);case 2:return f.Zd(3);default:throw new Z0("keyMetadata","Unknown key format: "+c);}case 2:_.dh(f,5);if(!a)throw new W0("Serialized keyset has to be non-null.");var h=(new THg(a)).read();h=new MHg(h);return _.bh(f,h.AV(UHg),7);case 7:return f.return(f.O);case 5:throw d=_.gh(f),new VHg(d.message);case 6:f.Zd(0);break;case 3:_.dh(f,8);var k=KHg();h=new X0;_.ri(_.nb(h,1,_.J(k,1)).Gb(a),3,1);var l=(new Y0).kc(1);k=_.ri(l,4,_.se(k,3,0));k=_.lb(k,3,1,0);h=_.z(k,1,
h);k=new OHg;_.di(k,2,Y0,h);_.lb(k,1,1,0);h=new MHg(k);return _.bh(f,h.AV(UHg),10);case 10:return f.return(f.O);case 8:throw e=_.gh(f),new VHg(e.message);case 9:f.Zd(0)}})},YHg=function(){var a;return _.jh(function(b){if(1==b.H)return _.bh(b,NHg(),2);a=b.O;var c=b.return;var d=a.H;if(1!==XHg(d).length)throw Error("Pq");d=_.w(XHg(d)[0],X0,1);if(!d)throw Error("Qq");if("type.googleapis.com/google.crypto.tink.AesGcmKey"!==_.J(d,1))throw Error("Rq");if(_.Za(d))throw Error("ba");d=_.Vh(d,2);d=null==d?
d:_.lK(d);return c.call(b,d)})},$Hg=function(){var a;return _.jh(function(b){if(1==b.H)return _.bh(b,NHg(),2);a=b.O;var c=b.return;var d=a.H;if(d instanceof OHg)d=_.Ii(d,ZHg);else throw new W0("unexpected type for keyset.");return c.call(b,d)})},aIg=function(a,b,c){if(0>=c)throw new Z0("ciphertextChunkSize","Ciphertext chunk size must be greater than zero");if(b>c)throw new Z0("plaintextChunkSize","Plaintext chunk size cannot be greater than ciphertext chunk size");var d=c-b;if(a<d)throw new Z0("ciphertextSize",
"Ciphertext is too short, must be at least "+d+" bytes");var e=Math.floor(a/c);a%=c;if(0===a)return e*b;if(a<d)throw new Z0("ciphertextSize","Final chunk in ciphertext is too short");if(a===d&&0!==e)throw new Z0("ciphertextSize","Final chunk has no plaintext");return e*b+(a-d)},bIg=function(){var a=new Uint8Array(16);window.crypto.getRandomValues(a);return _.db(a,4)+":"+_.Ek().location.origin},cIg=function(a){var b,c;return _.jh(function(d){if(1==d.H)return b=(new TextEncoder).encode(a),_.bh(d,window.crypto.subtle.digest("SHA-256",
b),2);c=d.O;return d.return(_.db(new Uint8Array(c),4))})},eIg=function(a,b,c){var d=new dIg;a=_.t(d,1,a);b=Date.now()-b;b=_.t(a,2,b);if(!c)return _.t(b,3,0),b;c instanceof $0?_.t(b,3,c.H):_.t(b,3,17);return b},fIg=function(a,b,c,d){var e=_.Mna(_.fj(a));var f=0<d.length?d:(d=_.Ek().location.ancestorOrigins)?Array.from(d):[];f.unshift(_.Ek().location.origin);d=_.Gk("IFRAME");gHg(d,_.Hma(a,{origin:f,authuser:c},{clientid:b}));_.lv(d,!1);a=_.hye({destination:_.Ek(),Lo:d,origin:e,iH:"channel",onMessage:function(){}});
document.body.appendChild(d);return{Lo:d,channel:a,Ph:!1}},gIg=function(a){return new Promise(function(b,c){var d=setTimeout(function(){c(new $0("Failed to open iframe channel within timeout",26))},6E4);a.channel.O.then(function(){clearTimeout(d);b()}).catch(function(e){clearTimeout(d);c(new $0("Error opening channel",26,e instanceof Error?e:null))})})},hIg=function(a){switch(a){case 401:return new $0("KACLS returned a status of 401 Unauthorized",29);default:return new $0("KACLS returned an error status: "+
a,30)}},iIg=function(a,b,c){var d,e,f;return _.jh(function(h){if(1==h.H)return _.bh(h,window.crypto.subtle.importKey("raw",a,{name:"HMAC",hash:"SHA-256"},!1,["sign"]),2);if(3!=h.H)return d=h.O,e=(new TextEncoder).encode("ResourceKeyDigest:"+b+":"+c),_.bh(h,crypto.subtle.sign({name:"HMAC"},d,e),3);f=h.O;return h.return(new Uint8Array(f))})},jIg=function(a,b){var c,d;return _.jh(function(e){try{c=JSON.parse(_.jla(b.split(".")[1]))}catch(f){throw new $0("Cannot decode authorization token",5,f);}d=c.resource_name;
if(void 0===d)throw new $0("Missing resource name in authorization token",5);return e.return(iIg(a,d,c.perimeter_id||""))})},kIg=function(){var a,b,c,d,e,f,h,k,l,m;return _.jh(function(q){if(1==q.H)return a={aud:"test_kacl",iss:"google-cse-test-authz",email:"jane.doe@foo.bar",resource_name:"item1234",perimeter_id:"",role:"writer",kacls_url:"https://3lvj2179xj.execute-api.us-west-1.amazonaws.com/alpha"},b=new TextEncoder,c={alg:"RS256",typ:"JWT",kid:"test_authz"},d=_.FB(JSON.stringify(c),4),e=Math.round(Date.now()/
1E3)-1,a.iat=e,a.exp=Math.round(e+3600),f=d+"."+_.FB(JSON.stringify(a),4),h={alg:"RS256",d:"G6GPMtLzIluY3uWJj304LUcWYzBAqpF8Sv3v5fxPc_r6_SERS837kX1b69GHLJQZLYJIKQZh4YhA2sfMUe4Phlyu6C-hOc2HY6eY1Ek2X0Yq-6VKe0L4ipw-BjK5Pme-gHd_rsAF0i1B2lV6BZeeJ2eJvFSyKu-h6Hwejay8WgQnSv_JWhDjD-yX6y8icnQ1eiwTAhlUn4xkHLraYEe5ulFav6unSGgpUwPQ6K7NVIZbFjcBWZqFQ4m7C_CMSJptWswEYBw54SK6SvVJwWcC5Rv-73hGREPNAnReCov7FCIEjun9ZJmIiWQKFGgTOTcbh-BKfTXYLbYz_z_Hgd_NBHHNsFyUcSWe7uTv_UCaGWo3g73zluCA5YQIZcpOPvEujIpSE3e_p19fsT7ME4bRWpuvdGtmtSAJy7jjtjnz77m-VxCWvsCEFG3Dld1DHpnmAcKAAYnX49YCHnb9fR0fCafbtLgUnfSqYb7xP2OPgudj0avEe3hsodoCVB_UeA3guqD4PwKf_8M_EOwPkINk-CESn-ZLEtKM0a6qCGlpwlt6t4jHXurlRp17EVKjip_MvKd-V6vKuCP__Esmj5P_n5QaC7OlaXy_d2cSCoZtqjvFu2K3KRu2HKzzFbhZSIYSRacPTQ-oiE6pfA96-6d55ETW3lQqQhoOUudTo734Xmk",
dp:"XiXGIfFs1EFv5BGu9kMOlx1ZF3ZR-naFd-JVHkuFcrJ2nw87-ITfAwvmHsnFm0YCx6TuWfbB2cOBfLN-l7DcrDBM34a_1x81X6C4ZBF3eJ23Sp39RVFg_EWdd-c_8ArAcn3jk0y93jv6_C0KuwF8U62QCDO75zV0bKSIkul0WonalW92-bgHDC9eDA5HzplRnQ7YbPFQErcAi-SPvLtNQQ2D5aA9RZAGk6gDXFrD94odVLlyXGmvKbu7ms2sC_YFhFfbwSs8Tm6Jq3zP68vcZItG34i4a5mSb3tqTJm12SvuNY_XTb2iY3_geeGd8kkAJB04V2jwuzhcU3jN01wgyQ",dq:"PBGcT8hmJIb_MaIsyVT8_C5pEkj4AqGrwVgtkMOXGAZ-XeN3nhxT3-Ow2cr-zfVLruhATS4YNCEuVjDj2bZOf71fB1PGVlxreBjSnZ4ajK3V21Yv3sN0mW4olSoGVxjGwAuD4IHOZgRYxQvZRsU8_RMO0ddfwayw6sCPcTDLXvD15WUxNOPoNFlxiMRdSc2WkogaouwYG235GS7kkwdLIR83EEI0OZnLV3PHmkcbB7YZHn-DglVbI_vQCK3QTw7Kd7B5Dl9QK9gsaAc1qpMgIt0AWwOuQDVhmeVGZym888MHU7j9KH-BJq_V9fp2Ur5arNXGoDSR61XHNiWnt_CJ_w",
e:"AQAB",ext:!0,key_ops:["sign"],kty:"RSA",n:"jxmY-gE7sdijGpm8mCUirJEfeSj5DCGEquhHNTgYr7nnDwWaKOkeCnpHNon32XeqVqJMWqQk23URh6pJptqx7lfswjfshv1Sy3j-u7bxVT_2U4j4MTqICbnqgSSYRgQA71IGf7Ss2Uqjl2XGJMp_Knyej0wqb1yj0xcNhQH5E4rQaYA25q_hwJzRx7ipZbgpeqfAHgcyPRhCS8fdL9skJEYje921k0CzOIPl1SB6veRrMJq1vO9g31GCGjCJQ2kVav5f_mTOQHHXtz6dtNx42zB7ZFWwUzo3ngiwTWZ3nz333b3Vgj_EgI2EoGLgZYVHqg89lHwJqTNy8hZekWtOwYQUVCiWXtr1g140703_F5QXEvIR7T31iX-ppU-PYeVPMt3Ba8qCpsJRz08ScjDsxKiXezKZK83cGDrev27pn6NNu054aNqcBRjB2_t06hdrtv1ny6DfsjnQcI2sZTV8pNBlBjQuQpeUqWxk4NI60a4lebvwvwVpPO9fqI-6lrqoA2uZ7ljvrJ_RtB7uDkO8KvPbee98eB96Pyl030mne1tBsArAmBS5fn2slywJW1OYtxk3n5BWMPHagy3nMCVqplU9MwmLaWb_y_OcFD4w1sdW8ODb9HATBhF1zz9ULxTHi0FR8iM2irqWR0etGU0Mb748nNgtlmiBF383SnoNX88",
p:"yCdugSE_u9KxPsT9N7KkqUbL-seqox6NJSTa4E6wwLpco9hDfwXeCMbquLSsioOs1jfWvAmhrs-N3a1_hic3aE2a7xSuV3iCZxu6g-fyVOXD_r-U7w5cYBZFMDaKwsK-EKUTWdCXbkGhrgkkcs1LyZJt4clf3ZkJ9TITz0ldBILSAzj2nhdO_CiTx8xpcKidTiPWaOYsZUXb3dyJf59aabz1RZmyd-jqNwNnqr98WC1IacE6SZgTOmmPZYxxYqYM9TlXvp6LHNkk_xDLfwweIbrRxq36G0WIeaAITfY83K30oqaLNi1tGrvttjDx21Xpox5BufAjxtdt384NLBI0WQ",q:"twbragsXfmCFmHH0Zs6G9W-MaoX47OrUuXrZ782hCpNyUr2d3_ukySN3AHx0UVDMYiq3_4E8hjkux331lL24Ze1YyQjEjRhimi6Rr4b7hbMelxWd0eI2sDTGCodR3QV8KNO2NTjRqdajVfOgMkGf7kpWrle8mX5SqiUKk_HRyxZx-kzMgETm2qjE1nLtIygyj6QtmMtq1qpS5jVRa6z_U5eAsKQD5sqzwj3zVkMed4iDjEXFAwuZIpYt-KqjhRzzr-koM_4H3nzzO0d93GwmZUys3WCluNhyiUOkgK-gkFjfjV0eqlNPTiX5nkonLAJ-FIAnfZeY4UcAfLITd4LQZw",
qi:"JOudX6P4PCyZ8XddBgE8vCkHVFbW-s6Qt7nJjhDyzbcw1GIFCUXH_v6oBWt_E6SA_kPqbY3MJ2CZ3KvY2Clp1eF9Zm_iwwQM8DexTVz9YT5PiqtDuCkp6Iyb5XpwTVhVHJnPxvoPTUE_xCrqw1zojqAI-V88LGX5TsMcyeTrN-IIHQ6-42I6d9iTfpC4ZjeQUadj7SwtarASf2snE9PiESArrVU8SgURKXKZStMp3txLLxOhMfmX7ctu55KxGBhoN5Lp360vxUXWGuBLGpcYyPJBLoPKbKODaNmHHBkPyUxMzZ7qtgysF9joR9osKIouT0V8uD-scA-pRE7hEOfIMQ"},_.bh(q,window.crypto.subtle.importKey("jwk",h,{name:"RSASSA-PKCS1-v1_5",hash:"SHA-256"},!1,["sign"]),2);if(3!=q.H)return k=q.O,_.bh(q,crypto.subtle.sign("RSASSA-PKCS1-v1_5",
k,b.encode(f)),3);l=q.O;m=f+"."+_.db(new Uint8Array(l),4);return q.return(m)})},lIg=function(a,b){return new Promise(function(c){var d=function(e){e.source===a.contentWindow&&e.data===b&&(window.removeEventListener("message",d),c(e))};window.addEventListener("message",d)})},nIg=function(a){var b=_.Gk("IFRAME");if(!b.sandbox)throw Error("Vq");b.sandbox.value="allow-scripts";b.sandbox.supports&&b.sandbox.add&&b.sandbox.supports("allow-downloads")&&b.sandbox.add("allow-downloads");if(""==mIg){var c=
_.Ac('<!DOCTYPE html><body><input type="hidden" id="nonce" value="'+_.Bc(a)+'" /><script nonce="'+_.Bc(_.mna())+'">/*\n\n Copyright The Closure Library Authors.\n SPDX-License-Identifier: Apache-2.0\n*/\nvar f=function(){for(var a=Number(this),b=[],c=a;c<arguments.length;c++)b[c-a]=arguments[c];return b},h=this||self,k=function(a){return a};var l;var m={},n=function(a,b){this.g=b===m?a:""};n.prototype.toString=function(){return this.g.toString()};var p=function(a){return a instanceof n&&a.constructor===n?a.g:"type_error:SafeScript"},q=function(a){if(void 0===l){var b=null;var c=h.trustedTypes;if(c&&c.createPolicy)try{b=c.createPolicy("goog#html",{createHTML:k,createScript:k,createScriptURL:k})}catch(d){h.console&&h.console.error(d.message)}l=b}a=(b=l)?b.createScript(a):a;return new n(a,m)};/*\n\n SPDX-License-Identifier: Apache-2.0\n*/\nfunction r(a,b){a.textContent=p(b);var c,d;(c=(b=null==(d=(c=(a.ownerDocument&&a.ownerDocument.defaultView||window).document).querySelector)?void 0:d.call(c,"script[nonce]"))?b.nonce||b.getAttribute("nonce")||"":"")&&a.setAttribute("nonce",c)};var t=function(a){var b=f.apply(1,arguments),c,d;"evalCspCompatiblyData"in window||(window.evalCspCompatiblyData={index:0});var e=window.evalCspCompatiblyData.index++;window.evalCspCompatiblyData[e]={args:b,callback:function(g,u){c=g;d=u}};b=document.createElement("script");b.async=!1;b.setAttribute("data-index",e);e=q(\'"use strict";\\v(function(){var idx=parseInt((document.currentScript||Array.prototype.slice.call(document.querySelectorAll("head script[data-index]"),-1)[0]).getAttribute("data-index"),10),curEvalData=evalCspCompatiblyData[idx];delete evalCspCompatiblyData[idx];(function(){var callback=curEvalData.callback;try{callback(true,(\'+\nString(p(a))+"\\n));}catch(ex){callback(false, ex);}}).apply(this, curEvalData.args);})()");r(b,e);e=function(g){c=!1;d=g.error||g};window.addEventListener("error",e);document.head.appendChild(b);window.removeEventListener("error",e);document.head.removeChild(b);if(!c)throw d;return d};var v=document.getElementById("nonce"),w=v?v.value:(new URL(location.href)).searchParams.get("nonce");function x(){if(self.origin)return"null"==self.origin;if(""!=location.host)return!1;try{return window.parent.escape(""),!1}catch(a){return!0}}\n(function(){if(!x())throw"sandboxing error";var a=new MessageChannel;a.port1.onmessage=function(c){try{var d=t.apply(null,[q("(function("+c.data.paramNames.join(", ")+") {\\n"+c.data.code+"\\n}).apply(null, arguments)")].concat(c.data.values));c.ports[0].postMessage({result:d})}catch(e){c.ports[0].postMessage({error:e.toString()})}};var b="*";"chrome-extension:"==location.protocol&&(b=location.origin);window.parent.postMessage(w,b,[a.port2])})();\n\x3c/script></body>');
a=_.Dc("data:text/html;charset=UTF-8;base64,"+btoa(c.toString()));b.srcdoc=_.pc(c)}else a=_.Yic(mIg,new Map([["nonce",a]]));_.tc(b,a);b.style.cssText="height: 0; left: 0; position: absolute; top: 0; width: 0;";b.setAttribute("aria-hidden","true");return b},oIg=function(){return new Promise(function(a){setTimeout(a,500)})},pIg=_.wb(function(a,b,c){if(2!==a.Vh)return!1;_.sla(b,c,_.Oxe(a));return!0},_.Nxe),qIg=function(a){_.G.call(this,a)},MIg,U0,SIg,TIg,UIg;_.M(qIg,_.G);
qIg.prototype.Az=function(){return _.u(this,1)};qIg.prototype.OD=function(){return _.p(this,5)};var rIg=function(a){_.G.call(this,a)};_.M(rIg,_.G);rIg.prototype.Az=function(){return _.u(this,1)};rIg.prototype.OD=function(){return _.p(this,4)};var sIg=function(a,b){return _.t(a,1,b)},tIg=function(a,b){_.t(a,3,b)},uIg=function(a){_.G.call(this,a)};_.M(uIg,_.G);uIg.prototype.Az=function(){return _.u(this,1)};uIg.prototype.OD=function(){return _.p(this,4)};
var vIg=function(a,b){return _.t(a,1,b)},wIg=function(a,b){_.t(a,3,b)},xIg=function(a,b){return _.t(a,23,b)},yIg=function(a,b){_.t(a,33,b)},zIg=function(a){_.G.call(this,a)};_.M(zIg,_.G);_.g=zIg.prototype;_.g.getTitle=function(){return _.p(this,1)};_.g.oe=function(){return _.p(this,1)};_.g.setTitle=function(a){return _.t(this,1,a)};_.g.getMimeType=function(){return _.p(this,2)};_.g.Fj=function(){return _.p(this,6)};
var AIg=function(a,b){return _.t(a,2,b)},BIg=function(a,b){return _.t(a,3,b)},CIg=function(a,b){return _.t(a,4,b)},DIg=function(a){return _.w(a,_.zm,5)},EIg=function(a,b){return _.z(a,5,b)},FIg=function(a,b){return _.t(a,6,b)},GIg=function(a,b){return _.z(a,1,b)},HIg=function(a,b){return _.t(a,10,b)},IIg=function(a){var b=_.w(_.XL(a),rIg,13);b||(b=new rIg,a=_.XL(a),_.z(a,13,b));return b},a1=function(a){var b=_.w(_.XL(a),uIg,14);b||(b=new uIg,a=_.XL(a),_.z(a,14,b));return b},b1=function(a,b){return{Gsa:a,
ggb:JIg,KGa:b,SVb:void 0,pQa:void 0,TVb:void 0}},JIg=_.wb(function(a,b,c,d){if(2!==a.Vh)return!1;_.Mca(a,_.zb(b,c.Nb,c.fieldIndex,!0),d);return!0},function(a,b,c,d){_.Gca(a,c.fieldIndex,b.getExtension(c),d)}),KIg=_.wb(function(a,b,c){if(0!==a.Vh)return!1;a=a.gB();_.lb(b,c,a,0);return!0},function(a,b,c){a.vv(c,_.p(b,c))}),LIg={Xmc:0,Gkc:1,Hkc:2,0:"HTML_FORMATTED_CONTENT",1:"EMBEDDED_INTERNAL_CONTENT",2:"EMBEDDED_TRUSTED_EXTERNAL_CONTENT"},fHg=function(a,b){var c=Error.call(this,a+" cannot be used with intent "+
LIg[b]);this.message=c.message;"stack"in c&&(this.stack=c.stack);this.type=a;this.intent=b;this.name="TypeCannotBeUsedWithIntentError"};_.M(fHg,Error);MIg=function(){var a=[],b;for(b=0;10>b;b++)a[b]=_.Qdb[0|10*Math.random()];return a.join("")};_.kL=function(a){_.G.call(this,a)};_.M(_.kL,_.G);_.kL.prototype.Ac=function(){return _.p(this,1)};var NIg=function(a,b){return _.t(a,1,b)};_.kL.prototype.dg=function(){return _.p(this,2)};_.kL.prototype.H=function(){return _.w(this,_.rn,3)};
var OIg=function(a,b){return _.z(a,3,b)};_.kL.prototype.Wd=function(){return _.w(this,_.hn,4)};var PIg=function(a,b){return _.z(a,4,b)};_.kL.prototype.Uj=function(){return _.p(this,5)};_.EK=function(a,b){this.H=a;this.metadata=b};U0=function(a){_.G.call(this,a)};_.M(U0,_.G);U0.prototype.He=function(){return _.p(this,1)};var lHg=[1],kHg=function(a){_.G.call(this,a)};_.M(kHg,_.G);var nHg=function(a){_.G.call(this,a)};_.M(nHg,_.G);nHg.prototype.H=function(){return _.p(this,1)};
var QIg=[nHg,1,_.Ti],qHg=function(a){_.G.call(this,a)};_.M(qHg,_.G);qHg.prototype.H=function(){return _.p(this,1)};var pHg=function(a,b){return _.t(a,1,b)},RIg=[qHg,1,_.Ti],oHg=[3],V0=function(a){_.G.call(this,a)};_.M(V0,_.G);_.g=V0.prototype;_.g.Uwb=function(){return _.p(this,1)};_.g.ata=function(){return _.p(this,2)};_.g.Vga=function(){return _.pi(this,nHg,3,oHg)};_.g.rEa=function(){return _.w(this,qHg,4)};_.g.Vwb=function(){return _.Uh(this,5)};
SIg=[V0,1,_.Ji,2,_.Mi,3,_.Si,QIg,oHg,4,_.Qi,RIg,5,_.Qxe];TIg=function(a,b,c,d,e,f,h){var k=_.wn(a),l=new _.PYc(_.ki(k,59,2E3),_.ki(k,60,2E4),_.ki(k,61,6));d=new _.tZc(f,e,c,d,_.ki(k,32,1073741824),_.ki(k,21,1E3));a=new _.NYc(h,_.MJ(_.NJ(a)));h={};h[1]=_.GZc(b,c);h[2]=_.HZc(b,k,l,a,c);h[4]=_.JZc(b,k,l,a,c);d=_.FZc(d,a,c,_.ii(k,46,1));return h[5]=d,h[7]=_.IZc(b,k,l,a,c,"xd4_batch"),h[8]=_.IZc(b,k,l,a,c,"xd4_batch_one",1),h};_.c0c=function(a,b){this.id=a;this.revisionId=b};
UIg=function(a,b,c,d){_.tl.call(this,"te");this.requestId=a;this.H=b;this.response=c;this.error=d};_.M(UIg,_.tl);
var WIg=function(a){_.G.call(this,a,-1,VIg)};_.M(WIg,_.G);var VIg=[1];
var XIg=function(a){_.G.call(this,a)};_.M(XIg,_.G);var YIg=function(){var a=new XIg;return _.t(a,1,0)},ZIg=function(a,b){return _.t(a,3,b)},$Ig=function(a,b){return _.t(a,4,b)},aJg=function(a,b){return _.z(a,6,b)},bJg=function(a,b){return _.t(a,7,b)};
var cJg=function(a){_.G.call(this,a,1)};_.M(cJg,_.G);
var dJg=function(a){_.G.call(this,a)};_.M(dJg,_.G);dJg.prototype.getEmail=function(){return _.p(this,2)};dJg.prototype.Ip=function(){return _.si(this,2)};var eJg=[1];
var fJg=function(a){_.G.call(this,a)};_.M(fJg,_.G);fJg.prototype.AH=function(){return _.p(this,1)};var gJg=function(){var a=new fJg;return _.t(a,1,1)};fJg.prototype.getAuthToken=function(){return _.p(this,2)};var hJg=function(a,b){return _.t(a,2,b)};
var iJg=function(a){_.G.call(this,a)};_.M(iJg,_.G);var jJg=_.Ab(346438255,iJg);
var c1=function(a){_.G.call(this,a)};_.M(c1,_.G);var kJg=function(a,b){return _.t(a,1,b)},lJg=function(a,b){return _.t(a,2,b)};c1.prototype.Fj=function(){return _.p(this,3)};var mJg=function(a,b){return _.t(a,3,b)};
var nJg=function(a){_.G.call(this,a)};_.M(nJg,_.G);nJg.prototype.getMetadata=function(){return _.w(this,V0,1)};nJg.prototype.Jo=function(){return _.Ph(this,V0,1)};
var oJg=function(a){_.G.call(this,a)};_.M(oJg,_.G);
var qJg=function(a){_.G.call(this,a,-1,pJg)};_.M(qJg,_.G);var pJg=[5];
var rJg=function(a){_.G.call(this,a)};_.M(rJg,_.G);var sJg=function(a){var b=new rJg;return _.z(b,1,a)},tJg=function(a,b){return _.t(a,2,b)};
var uJg=function(a){_.G.call(this,a)};_.M(uJg,_.G);var vJg=function(a){var b=new uJg;return _.z(b,1,a)},wJg=function(a,b){return _.t(a,2,b)};uJg.prototype.getMetadata=function(){return _.w(this,V0,3)};var xJg=function(a,b){return _.z(a,3,b)};uJg.prototype.Jo=function(){return _.Ph(this,V0,3)};
var yJg=function(a){_.G.call(this,a)};_.M(yJg,_.G);var zJg=function(a,b){return _.z(a,1,b)},AJg=function(a,b){return _.z(a,2,b)},BJg=function(a,b){return _.z(a,3,b)};
var CJg=function(a){_.G.call(this,a)};_.M(CJg,_.G);
var DJg=function(a){_.G.call(this,a)};_.M(DJg,_.G);
var EJg=function(a){_.G.call(this,a)};_.M(EJg,_.G);var FJg=function(a){var b=new EJg;return _.t(b,1,_.ab(a,!1))};
var GJg=function(a){_.G.call(this,a)};_.M(GJg,_.G);
var HJg=function(a){_.G.call(this,a)};_.M(HJg,_.G);var IJg=function(a){var b=new HJg;return _.t(b,1,a)};
var JJg=function(a){_.G.call(this,a)};_.M(JJg,_.G);JJg.prototype.getError=function(){return _.se(this,1,0)};JJg.prototype.Se=function(a){return _.t(this,1,a)};JJg.prototype.Io=function(){return _.Oh(this,1)};var KJg=[JJg,1,_.Ti,2,_.Mi,3,_.Mi];
var LJg=function(a){_.G.call(this,a,1)};_.M(LJg,_.G);var MJg={},NJg=[LJg,MJg];
var d1=function(a){_.G.call(this,a,1)};_.M(d1,_.G);var e1={},OJg=[d1,e1];
var PJg=function(a){_.G.call(this,a,4)};_.M(PJg,_.G);PJg.prototype.getError=function(){return _.w(this,JJg,2)};PJg.prototype.Se=function(a){return _.z(this,2,a)};PJg.prototype.Io=function(){return _.Ph(this,JJg,2)};var QJg={},RJg=[PJg,QJg,2,_.Qi,KJg,3,_.Qi,NJg];
var SJg=function(a){_.G.call(this,a)};_.M(SJg,_.G);var TJg=_.Ab(347854608,SJg);e1[347854608]=b1(TJg,[SJg,1,_.Mi,2,_.Mi,3,_.Mi,4,_.Mi]);
var UJg=function(a){_.G.call(this,a)};_.M(UJg,_.G);var VJg=_.Ab(347854609,UJg);QJg[347854609]=b1(VJg,[UJg,1,_.Qxe]);
var WJg=function(a){_.G.call(this,a)};_.M(WJg,_.G);var XJg=_.Ab(347854610,WJg);e1[347854610]=b1(XJg,[WJg,1,_.Qxe,2,_.Mi,3,_.Mi,4,_.Mi]);
var YJg=function(a){_.G.call(this,a)};_.M(YJg,_.G);var ZJg=_.Ab(347854611,YJg);QJg[347854611]=b1(ZJg,[YJg,1,_.Mi]);
var $Jg=function(a){_.G.call(this,a)};_.M($Jg,_.G);$Jg.prototype.He=function(){return _.p(this,1)};$Jg.prototype.H=function(a){return _.z(this,3,a)};var aKg=_.Ab(346636283,$Jg);e1[346636283]=b1(aKg,[$Jg,1,_.Ti,2,_.Mi,3,_.Qi,_.Yxe,4,_.Mi]);
var bKg=function(a){_.G.call(this,a)};_.M(bKg,_.G);bKg.prototype.getAuthToken=function(){return _.p(this,1)};var cKg=_.Ab(346636284,bKg);QJg[346636284]=b1(cKg,[bKg,1,_.Mi]);
var dKg=function(a){_.G.call(this,a)};_.M(dKg,_.G);var eKg=function(a){var b=new dKg;return _.t(b,1,a)},fKg=function(a,b){return _.t(a,2,b)},gKg=function(a,b){return _.t(a,3,b)},hKg=[dKg,1,_.Ti,2,_.Ji,3,_.Ji,4,_.Ti,5,_.Mi];
var iKg=function(a){_.G.call(this,a)};_.M(iKg,_.G);var jKg=[iKg];
var kKg=function(a){_.G.call(this,a)};_.M(kKg,_.G);var lKg=function(a,b){_.t(a,5,b)},f1=function(a,b){_.t(a,7,b)},mKg=[kKg,1,_.Ji,2,_.Ki,3,_.Ji,4,_.Ki,5,_.Mi,6,_.Ji,7,_.Ti,8,_.Ti];
var nKg=function(a){_.G.call(this,a)};_.M(nKg,_.G);nKg.prototype.getStatus=function(){return _.p(this,1)};nKg.prototype.kc=function(a){return _.t(this,1,a)};var oKg=[nKg,1,_.Ti,2,_.Ji,3,_.Ji,4,_.Ji,5,_.Ti];
var pKg=function(a){_.G.call(this,a)};_.M(pKg,_.G);var qKg=[pKg,1,_.Ji,2,_.Ji,3,_.Qi,oKg,4,_.Qi,oKg];
var rKg=function(a){_.G.call(this,a)};_.M(rKg,_.G);var sKg=[4,5],tKg=[rKg,1,_.Li,2,_.Mi,3,_.Ji,4,_.Si,jKg,sKg,5,_.Si,mKg,sKg,6,_.Qi,qKg,7,_.Li];
var dIg=function(a){_.G.call(this,a)};_.M(dIg,_.G);dIg.prototype.getType=function(){return _.p(this,1)};var uKg=[dIg,1,_.Ti,2,_.Ji,3,_.Ti];
var vKg=function(a){_.G.call(this,a)};_.M(vKg,_.G);var wKg=function(a){var b=new vKg;return _.t(b,1,a)};vKg.prototype.Fj=function(){return _.p(this,7)};var xKg=[vKg,1,_.Ti,2,_.Mi,3,_.Ji,4,_.Ki,5,_.Ti,6,_.Mi,7,_.Mi];
var yKg=function(a){_.G.call(this,a)};_.M(yKg,_.G);var zKg=[1,2,3,4],AKg=_.Ab(398321895,yKg);e1[398321895]=b1(AKg,[yKg,1,_.Si,xKg,zKg,2,_.Si,tKg,zKg,3,_.Si,hKg,zKg,4,_.Si,uKg,zKg]);
var BKg=function(a){_.G.call(this,a)};_.M(BKg,_.G);BKg.prototype.H=function(a){return _.z(this,2,a)};var CKg=_.Ab(393450967,BKg);e1[393450967]=b1(CKg,[BKg,1,_.Mi,2,_.Qi,_.Yxe,3,_.Mi]);
var DKg=function(a){_.G.call(this,a)};_.M(DKg,_.G);var EKg=_.Ab(393450968,DKg);QJg[393450968]=b1(EKg,[DKg,1,_.Mi,2,_.Mi,3,_.Mi,4,_.Mi,5,_.Ti]);var FKg=_.Ab(394593106,kKg);MJg[394593106]=b1(FKg,mKg);
var GKg=function(a){_.G.call(this,a)};_.M(GKg,_.G);GKg.prototype.Nj=function(){return _.p(this,1)};var HKg=_.Ab(393450969,GKg);e1[393450969]=b1(HKg,[GKg,1,_.Mi,2,_.Mi,3,_.Mi,4,_.Mi,5,_.Mi,6,_.Mi]);
var IKg=function(a){_.G.call(this,a)};_.M(IKg,_.G);var JKg=_.Ab(393450970,IKg);QJg[393450970]=b1(JKg,[IKg,1,_.Mi]);
var KKg=function(a){_.G.call(this,a)};_.M(KKg,_.G);var LKg=_.Ab(393450971,KKg);e1[393450971]=b1(LKg,[KKg]);
var MKg=function(a){_.G.call(this,a)};_.M(MKg,_.G);MKg.prototype.getToken=function(){return _.p(this,1)};MKg.prototype.setToken=function(a){return _.t(this,1,a)};var NKg=_.Ab(393450972,MKg);QJg[393450972]=b1(NKg,[MKg,1,_.Mi]);var OKg=_.Ab(394593107,pKg);MJg[394593107]=b1(OKg,qKg);
var PKg=function(a){_.G.call(this,a)};_.M(PKg,_.G);PKg.prototype.getToken=function(){return _.p(this,1)};PKg.prototype.setToken=function(a){return _.t(this,1,a)};var QKg=_.Ab(393450973,PKg);e1[393450973]=b1(QKg,[PKg,1,_.Mi,2,_.Ki]);
var RKg=function(a){_.G.call(this,a)};_.M(RKg,_.G);QJg[391195174]=b1(_.Ab(391195174,RKg),[RKg]);var SKg=_.Ab(394593108,pKg);MJg[394593108]=b1(SKg,qKg);
var TKg=function(a){_.G.call(this,a)};_.M(TKg,_.G);TKg.prototype.He=function(){return _.p(this,1)};var UKg=function(a,b){return _.t(a,1,b)},VKg=function(a,b){return _.t(a,2,b)};
var WKg=function(a){_.G.call(this,a)};_.M(WKg,_.G);WKg.prototype.getAuthToken=function(){return _.oi(this,1,XKg)};WKg.prototype.getError=function(){return _.ni(this,2,XKg)};WKg.prototype.Se=function(a){return _.ai(this,2,XKg,a)};WKg.prototype.Io=function(){return _.Qh(this,2,XKg)};var XKg=[1,2];
var YKg=function(a){_.G.call(this,a)};_.M(YKg,_.G);
var ZKg=function(a){_.G.call(this,a)};_.M(ZKg,_.G);
var $Kg=function(a){_.G.call(this,a)};_.M($Kg,_.G);var tHg=function(a){var b=new $Kg;return _.t(b,1,a)},sHg=function(a,b){return _.t(a,2,b)};_.g=$Kg.prototype;_.g.Hj=function(){return _.J(this,3)};_.g.tu=function(a){return _.t(this,3,a)};_.g.getError=function(){return _.J(this,7)};_.g.Se=function(a){return _.t(this,7,a)};_.g.Io=function(){return _.si(this,7)};
var aLg=function(a,b,c){this.H=a;this.V=b;this.O=c};
aLg.prototype.get=function(a){var b,c,d,e,f=this,h,k,l,m,q;return _.jh(function(r){switch(r.H){case 1:h=_.DL(f.H);k=_.p(f.H,4);if(h&&k){r.Zd(2);break}return _.bh(r,f.O,3);case 3:l=r.O,h=_.p(l,4),k=_.p(l,3);case 2:var v=a.start%3,x=a.start-v,y=4/3*x;x=a.end-x+1;b=y;c=y+4/3*(x+(0<x%3?3-x%3:0))-1;d=v;e=v+(a.end-a.start+1);_.wWc(f.H,h);v=GIg(new _.$K,f.H);m=_.t(v,2,b);c<4/3*k-1&&_.t(m,3,c);return _.bh(r,bLg(f.V,m,f.O),4);case 4:return q=r.O,r.return(q.subarray(d,e))}})};
var g1=new Uint8Array([153,94,204,94]);
var $0=function(a,b,c){a=Error.call(this,a);this.message=a.message;"stack"in a&&(this.stack=a.stack);this.H=b;this.O=void 0===c?null:c};_.M($0,Error);$0.prototype.getMessage=function(){return this.message};$0.prototype.name="CseError";
var Z0=function(a,b){a=Error.call(this,b);this.message=a.message;"stack"in a&&(this.stack=a.stack)};_.M(Z0,Error);Z0.prototype.name="ArgumentError";
var h1=function(a){a=Error.call(this,a);this.message=a.message;"stack"in a&&(this.stack=a.stack)};_.M(h1,Error);h1.prototype.name="InvalidOperationError";
var cLg=function(a){this.V=a;this.O=g1.length};cLg.prototype.H=function(a){var b=this,c,d,e;return _.jh(function(f){if(1==f.H)return _.dh(f,2),c=Math.min(a.length,b.O),_.bh(f,dLg(b.V,a.subarray(c,a.length)),4);if(2!=f.H)return d=f.O,b.O-=c,f.return(d);e=_.gh(f);if(e instanceof Z0)throw new $0(e.message,6,e);if(e instanceof h1)throw new $0(e.message,8,e);throw new $0(e.message,7,e);})};
var VHg=function(a){a=Error.call(this,a);this.message=a.message;"stack"in a&&(this.stack=a.stack)};_.M(VHg,Error);VHg.prototype.name="CseCrypterError";
var JHg=function(a){a=Error.call(this,a);this.message=a.message;"stack"in a&&(this.stack=a.stack);Object.setPrototypeOf(this,JHg.prototype)};_.M(JHg,Error);JHg.prototype.name="InvalidArgumentsException";
var W0=function(a){a=Error.call(this,a);this.message=a.message;"stack"in a&&(this.stack=a.stack);Object.setPrototypeOf(this,W0.prototype)};_.M(W0,Error);W0.prototype.name="SecurityException";
var FHg=function(a){_.G.call(this,a)};_.M(FHg,_.G);FHg.prototype.jk=function(){return _.ji(this,1)};var HHg=[FHg,1,KIg,3,pIg];
var DHg=function(a){_.G.call(this,a)};_.M(DHg,_.G);DHg.prototype.jk=function(){return _.ji(this,3)};var CHg=[DHg,2,KIg,3,KIg];
var eLg=function(a){_.G.call(this,a)};_.M(eLg,_.G);eLg.prototype.Za=function(){return _.Vh(this,2)};eLg.prototype.Gb=function(a){return _.sla(this,2,a)};
var X0=function(a){_.G.call(this,a)};_.M(X0,_.G);X0.prototype.Za=function(){return _.Vh(this,2)};X0.prototype.Gb=function(a){return _.sla(this,2,a)};var fLg=[X0,1,_.Oi,2,pIg,3,_.Ui];
var OHg=function(a){_.G.call(this,a,-1,gLg)};_.M(OHg,_.G);var XHg=function(a){return _.sb(a,Y0,2)},Y0=function(a){_.G.call(this,a)};_.M(Y0,_.G);Y0.prototype.getStatus=function(){return _.se(this,2,0)};Y0.prototype.kc=function(a){return _.ri(this,2,a)};var gLg=[2],ZHg=[OHg,1,KIg,2,_.Ri,[Y0,1,_.Qi,fLg,2,_.Ui,3,KIg,4,_.Ui]];
var hLg=function(a,b){b=[b];var c=b.concat;if(!Number.isInteger(a)||0>a||a>=Math.pow(2,32))throw new JHg("Number has to be unsigned 32-bit integer.");for(var d=Array(4),e=0;4>e;e++)d[e]=255&a>>8*(4-e-1);b=c.call(b,d);return new Uint8Array(b)},iLg=new Uint8Array(0);
var jLg=function(a,b,c){this.O=a;this.identifier=b;this.H=c};jLg.prototype.AV=function(){return this.O};jLg.prototype.iy=function(){return this.identifier};var kLg=function(a){this.O=a;this.primary=null;this.H=new Map};kLg.prototype.Mga=function(){return this.O};var mLg=function(a,b){return(a=lLg(a,b))?a:[]},lLg=function(a,b){b instanceof Uint8Array&&(b=[].concat(_.fd(b)).toString());return a.H.get(b)};
var yHg=new Map,BHg=new Map,nLg=new Map;
var MHg=function(a){if(!a||!XHg(a)||1>XHg(a).length)throw new W0("Keyset should be non null and must contain at least one key.");for(var b=!1,c=XHg(a).length,d=0;d<c;d++){var e=XHg(a)[d];if(!e)throw new W0("Key should be non null.");if(!_.w(e,X0,1))throw new W0("Key data are missing for key "+_.ji(e,3)+".");if(0===_.se(e,4,0))throw new W0("Key "+_.ji(e,3)+" has unknown output prefix type.");if(0===e.getStatus())throw new W0("Key "+_.ji(e,3)+" has unknown status.");if(_.ji(a,1)===_.ji(e,3)&&1===e.getStatus()){if(b)throw new W0("Primary key has to be unique.");
b=!0}}if(!b)throw new W0("Primary key has to be in the keyset and has to be enabled.");this.H=a};MHg.prototype.AV=function(a,b){var c=this,d;return _.jh(function(e){if(1==e.H){if(!a)throw new JHg("primitive type must be non-null");return _.bh(e,oLg(c,a,b),2)}d=e.O;var f=e.return;if(!d)throw new W0("primitive set cannot be null.");var h=d.Mga(),k=nLg.get(h);if(!k)throw new W0("no primitive wrapper found for type "+h);k=k.wrap(d);if(!(k instanceof h))throw new TypeError("Oq");return f.call(e,k)})};
var oLg=function(a,b,c){var d,e,f,h,k,l,m,q;return _.jh(function(r){switch(r.H){case 1:d=new kLg(b),e=XHg(a.H),f=e.length,h=0;case 2:if(!(h<f)){r.Zd(4);break}k=e[h];if(1!==k.getStatus()){r.Zd(3);break}l=_.w(k,X0,1);if(!l)throw new W0("Key data has to be non null.");m=void 0;return c&&pLg()===_.J(l,1)?_.bh(r,c.AV(b,l),9):_.bh(r,AHg(b,l),8);case 8:m=r.O;r.Zd(7);break;case 9:m=r.O;case 7:var v=m;if(!v)throw new W0("Primitive has to be non null.");if(!k)throw new W0("Key has to be non null.");a:switch(_.se(k,
4,0)){case 2:case 4:var x=hLg(_.ji(k,3),0);break a;case 1:x=hLg(_.ji(k,3),1);break a;case 3:x=iLg;break a;default:throw new W0("Unsupported key prefix type.");}v=new jLg(v,x,k.getStatus());x=v.iy();x=[].concat(_.fd(x)).toString();var y=lLg(d,x);y?(y.push(v),d.H.set(x,y)):d.H.set(x,[v]);q=v;if(_.ji(k,3)===_.ji(a.H,1)){if(!q)throw new W0("Primary cannot be set to null.");if(1!=q.H)throw new W0("Primary has to be enabled.");v=mLg(d,q.iy());x=!1;y=v.length;for(var A=0;A<y;A++)if(1===v[A].H){x=!0;break}if(!x)throw new W0("Primary cannot be set to an entry which is not held by this primitive set.");
d.primary=q}case 3:h++;r.Zd(2);break;case 4:return r.return(d)}})};MHg.prototype.write=function(){return _.jh(function(){throw new W0("KeysetHandle -- write: Not implemented yet.");})};
var UHg=function(){};
var PHg=[16,32];
var RHg=function(a){this.key=a};_.M(RHg,UHg);RHg.prototype.encrypt=function(a,b){var c=this,d,e,f;return _.jh(function(h){if(1==h.H)return QHg(a),null!=b&&QHg(b),d=GHg(12),e={name:"AES-GCM",iv:d,tagLength:128},b&&(e.additionalData=b),_.bh(h,self.crypto.subtle.encrypt(e,c.key,a),2);f=h.O;return h.return(xHg(d,new Uint8Array(f)))})};
RHg.prototype.H=function(a,b){var c=this,d,e,f,h;return _.jh(function(k){if(1==k.H){QHg(a);if(28>a.length)throw new W0("ciphertext too short");null!=b&&QHg(b);d=new Uint8Array(12);d.set(a.subarray(0,12));e={name:"AES-GCM",iv:d,tagLength:128};b&&(e.additionalData=b);_.dh(k,2);f=Uint8Array;return _.bh(k,self.crypto.subtle.decrypt(e,c.key,new Uint8Array(a.subarray(12))),4)}if(2!=k.H)return k.return(new f(k.O));h=_.gh(k);throw new W0(h.toString());})};
var qLg=function(){};
qLg.prototype.AV=function(a,b){var c=this,d;return _.jh(function(e){if(1==e.H){if(a!=c.Mga())throw new W0("Requested primitive type which is not supported by this key manager.");if(b instanceof X0){if("type.googleapis.com/google.crypto.tink.AesGcmKey"!=_.J(b,1))throw new W0("Key type "+_.J(b,1)+" is not supported. This key manager supports type.googleapis.com/google.crypto.tink.AesGcmKey.");try{var f=b.Za();var h=_.Hi(f,HHg)}catch(k){throw new W0("Could not parse the input as a serialized proto of type.googleapis.com/google.crypto.tink.AesGcmKey key.");}}else if(b instanceof
FHg)h=b;else throw new W0("Key type is not supported. This key manager supports type.googleapis.com/google.crypto.tink.AesGcmKey.");d=h;h=_.Vh(d,3);h=null==h?void 0:h.UVa();EHg(h);h=d.jk();if(0>h||0<h)throw new W0("Version is out of bound, must be between 0 and 0.");return _.bh(e,SHg(wHg(_.Vh(d,3))),2)}return e.return(e.O)})};var pLg=function(){return"type.googleapis.com/google.crypto.tink.AesGcmKey"};qLg.prototype.Mga=function(){return UHg};qLg.prototype.jk=function(){return 0};
var KHg=function(){var a=new DHg;a=_.lb(a,2,32,0);var b=new eLg;b=_.nb(b,1,"type.googleapis.com/google.crypto.tink.AesGcmKey");return _.ri(b,3,3).Gb(_.Ii(a,CHg))};
var THg=function(a){this.H=a};THg.prototype.read=function(){try{var a=_.Hi(this.H,ZHg)}catch(b){throw new W0("Could not parse the given serialized proto as a keyset proto.");}if(0===XHg(a).length)throw new W0("Could not parse the given serialized proto as a keyset proto.");return a};
var rLg=function(a,b){this.W=a;this.ka=b;this.ha=!1};rLg.prototype.V=function(){return this.ka};rLg.prototype.O=function(a){var b=this,c,d;return _.jh(function(e){if(1==e.H)return _.dh(e,2),_.bh(e,b.W.encrypt(a),4);if(2!=e.H)return c=e.O,e.return(sLg(b,c));d=_.gh(e);if(d instanceof Z0)throw new $0(d.message,6,d);if(d instanceof h1)throw new $0(d.message,8,d);throw new $0(d.message,7,d);})};
rLg.prototype.H=function(a){var b=this,c,d;return _.jh(function(e){if(1==e.H)return _.dh(e,2),_.bh(e,tLg(b.W,a),4);if(2!=e.H)return c=e.O,e.return(sLg(b,c));d=_.gh(e);if(d instanceof Z0)throw new $0(d.message,6,d);if(d instanceof h1)throw new $0(d.message,8,d);throw new $0(d.message,7,d);})};var sLg=function(a,b){if(!a.ha&&0<b.length){var c=new Uint8Array(b.length+g1.length);c.set(g1,0);c.set(b,g1.length);a.ha=!0;return c}return b};
var uLg=function(a){this.H=a},xLg=function(a,b,c){var d,e,f,h;return _.jh(function(k){switch(k.H){case 1:try{var l=a.H;d=vLg(b,l.V,l.O,l.H)}catch(m){throw new $0(m.message,6,m);}l=d.H;e=new _.aT(l.start+g1.length,l.end+g1.length);return _.bh(k,c.get(e),2);case 2:return f=k.O,_.dh(k,3),_.bh(k,wLg(a.H,b,f),5);case 5:return k.return(k.O);case 3:h=_.gh(k);if(h instanceof Z0)throw new $0(h.message,6,h);if(h instanceof h1)throw new $0(h.message,8,h);throw new $0(h.message,7,h);}})};uLg.prototype.ha=function(){return this.H.ha()};
var yLg=function(a,b,c,d,e){$0.call(this,a,b,void 0===e?null:e)};_.M(yLg,$0);yLg.prototype.name="KaclsError";
var zLg=function(a){this.O=a};_.M(zLg,UHg);zLg.prototype.encrypt=function(a,b){var c=this,d,e,f,h,k;return _.jh(function(l){if(1==l.H){if(!a)throw new W0("Plaintext has to be non-null.");d=c.O.primary;if(!d)throw new W0("Primary has to be non-null.");e=d.AV();return _.bh(l,e.encrypt(a,b),2)}f=l.O;h=d.iy();k=new Uint8Array(h.length+f.length);k.set(h,0);k.set(f,h.length);return l.return(k)})};
zLg.prototype.H=function(a,b){var c=this,d,e,f,h,k,l;return _.jh(function(m){switch(m.H){case 1:if(!a)throw new W0("Ciphertext has to be non-null.");if(!(5<a.length)){m.Zd(2);break}d=a.subarray(0,5);return _.bh(m,mLg(c.O,d),3);case 3:return e=m.O,f=a.subarray(5,a.length),_.dh(m,4),_.bh(m,ALg(e,f,b),6);case 6:h=m.O;_.fh(m,5);break;case 4:_.gh(m);case 5:if(h)return m.return(h);case 2:return _.bh(m,mLg(c.O,iLg),7);case 7:return k=m.O,_.bh(m,ALg(k,a,b),8);case 8:return l=m.O,m.return(l)}})};
var ALg=function(a,b,c){var d,e,f,h;return _.jh(function(k){switch(k.H){case 1:d=a.length,e=0;case 2:if(!(e<d)){k.Zd(4);break}if(1!=a[e].H){k.Zd(3);break}f=a[e].AV();h=void 0;_.dh(k,5);return _.bh(k,f.H(b,c),7);case 7:h=k.O;_.fh(k,6);break;case 5:_.gh(k);k.Zd(3);break;case 6:return k.return(h);case 3:e++;k.Zd(2);break;case 4:throw new W0("Decryption failed for the given ciphertext.");}})},BLg=function(){};
BLg.prototype.wrap=function(a){if(!a)throw new W0("Primitive set has to be non-null.");if(!a.primary)throw new W0("Primary has to be non-null.");return new zLg(a)};BLg.prototype.Mga=function(){return UHg};
var CLg=function(a,b,c){this.V=new Uint8Array(a);this.ka=a;this.W=b;this.H=0;this.O=c;this.ha=!1};CLg.prototype.lA=function(){return _.jh(function(a){_.ch(a)})};
CLg.prototype.update=function(a){var b=this,c,d,e,f,h,k,l,m;return _.jh(function(q){switch(q.H){case 1:if(b.ha)throw new h1("The final chunk has already been flushed. Cannot do additional crypto operations.");if(1073741824<b.O+Math.ceil((a.length+b.H)/b.ka))throw new h1("Cannot update cipher. Cipher reaching chunk count limit.");var r=a.length+b.H;c=new Uint8Array(0>=r?0:Math.floor((r-1)/b.ka)*b.W);e=d=0;f=a.length;case 2:if(!(f>b.V.length-b.H)){q.Zd(3);break}h=DLg(b.O,!1);k=b.V.length-b.H;l=a.subarray(e,
e+k);b.V.set(l,b.H);b.H=0;e+=k;f-=k;return _.bh(q,b.lA(b.V,h),4);case 4:m=q.O;if(m.length!==b.W)throw new VHg("Update internal returned unexpected chunk size: expected "+b.W+" actual "+m.length);c.set(m,d);d+=m.length;b.O+=1;q.Zd(2);break;case 3:return b.V.set(a.subarray(e,e+f),b.H),b.H+=f,q.return(c)}})};
var ELg=function(a,b){var c,d,e;return _.jh(function(f){if(1==f.H){if(a.ha)throw new h1("The final chunk has already been flushed. Cannot do additional crypto operations.");if(0<a.V.length-a.H&&!b)throw new h1("Cannot flush partial chunk unless it is the last chunk");if(0===a.H&&0!==a.O)throw new h1("Cannot flush empty chunk at non-zero chunk index");c=a.V.subarray(0,a.H);d=DLg(a.O,b);return _.bh(f,a.lA(c,d),2)}e=f.O;a.H=0;a.O+=1;b&&(a.ha=!0);return f.return(e)})},DLg=function(a,b){var c=new ArrayBuffer(5),
d=new DataView(c);d.setUint32(0,a,!1);d.setUint8(4,b?1:0);return new Uint8Array(c)};
var FLg=function(a,b,c,d){CLg.call(this,c,b,d);this.oa=a};_.M(FLg,CLg);FLg.prototype.lA=function(a,b){var c=this,d;return _.jh(function(e){if(1==e.H)return _.dh(e,2),_.bh(e,c.oa.H(a,b),4);if(2!=e.H)return e.return(e.O);d=_.gh(e);throw new VHg(d.message);})};
var GLg=function(a,b,c){this.W=a;this.O=b;this.H=0;this.V=c},HLg=function(a,b,c,d,e,f){var h,k;return _.jh(function(l){if(1==l.H)return _.bh(l,WHg(a,b),2);h=l.O;k=new FLg(h,d,e,0);return l.return(new GLg(c,k,f))})},dLg=function(a,b){var c,d,e,f,h,k,l;return _.jh(function(m){switch(m.H){case 1:c=fKg(eKg(3),b.length);d=Date.now();e=a.W-a.H;if(b.length>e)throw ILg(a,_.t(c,4,2)),new Z0("ciphertext","Expected at most "+e+" bytes of ciphertext, got "+b.length+" bytes");_.dh(m,2);return _.bh(m,a.O.update(b),
4);case 4:f=m.O;if(b.length!==e){m.Zd(5);break}return _.bh(m,ELg(a.O,!0),6);case 6:h=m.O,k=f,f=new Uint8Array(k.length+h.length),f.set(k,0),f.set(h,k.length);case 5:a.H+=b.length;_.fh(m,3);break;case 2:throw l=_.gh(m),l instanceof h1?_.t(c,4,4):_.t(c,4,3),ILg(a,c),l;case 3:return ILg(a,gKg(_.t(c,4,1),Date.now()-d)),m.return(f)}})},ILg=function(a,b){a.V&&a.V.O(b.clone())};
var JLg=function(a,b,c,d){CLg.call(this,b,c,d);this.oa=a};_.M(JLg,CLg);JLg.prototype.lA=function(a,b){var c=this,d;return _.jh(function(e){if(1==e.H)return _.dh(e,2),_.bh(e,c.oa.encrypt(a,b),4);if(2!=e.H)return e.return(e.O);d=_.gh(e);throw new VHg(d.message);})};
var KLg=function(a,b,c,d){this.W=a;this.V=b;this.H=c;this.O=d},LLg=function(a,b,c){var d,e,f,h,k,l,m,q;return _.jh(function(r){switch(r.H){case 1:return d=eKg(1),e=Date.now(),_.dh(r,2),r.Zd(5);case 4:return _.bh(r,$Hg(),7);case 7:h=r.O;f=1;r.Zd(6);break;case 5:return _.bh(r,YHg(),8);case 8:h=r.O;f=2;r.Zd(6);break;case 6:_.fh(r,3);break;case 2:throw k=_.gh(r),c&&c.O(_.t(d,4,3)),k;case 3:return l=pHg(new qHg,f),c&&c.O(gKg(_.t(d,4,1),Date.now()-e)),_.bh(r,WHg(h,l),9);case 9:return m=r.O,q=new JLg(m,
a,b,0),r.return(new KLg(h,l,q,c))}})};KLg.prototype.getKey=function(){return this.W};KLg.prototype.encrypt=function(a){var b=this,c,d,e,f;return _.jh(function(h){switch(h.H){case 1:return c=fKg(eKg(2),a.length),d=Date.now(),_.dh(h,2),_.bh(h,b.H.update(a),4);case 4:e=h.O;_.fh(h,3);break;case 2:throw f=_.gh(h),f instanceof h1?_.t(c,4,4):_.t(c,4,3),MLg(b,c),f;case 3:return MLg(b,gKg(_.t(c,4,1),Date.now()-d)),h.return(e)}})};
var tLg=function(a,b){var c,d,e,f,h,k;return _.jh(function(l){switch(l.H){case 1:return c=fKg(eKg(2),b.length),d=Date.now(),_.dh(l,2),_.bh(l,a.H.update(b),4);case 4:return f=l.O,_.bh(l,ELg(a.H,!0),5);case 5:h=l.O;e=new Uint8Array(f.length+h.length);e.set(f,0);e.set(h,f.length);_.fh(l,3);break;case 2:throw k=_.gh(l),k instanceof h1?_.t(c,4,4):_.t(c,4,3),MLg(a,c),k;case 3:return MLg(a,gKg(_.t(c,4,1),Date.now()-d)),l.return(e)}})},MLg=function(a,b){a.O&&a.O.O(b.clone())};
var NLg=function(a,b){this.O=a;this.H=b},vLg=function(a,b,c,d){if(0>=b)throw new Z0("plaintextSize","Original plaintext size must be greater than zero");if(0>a.start)throw new Z0("plaintextRange","Invalid lower bound for plaintext range");if(a.end>=b)throw new Z0("plaintextRange","Invalid upper bound for plaintext range");var e=Math.floor(a.start/c);a=Math.floor(a.end/c)+1;var f=d-c;return new NLg(new _.aT(e*c,Math.min(b,a*c)-1),new _.aT(e*d,Math.min(0===b?f:b+Math.ceil(b/c)*f,a*d)-1))};
var OLg=function(a,b,c,d,e,f){this.ka=a;this.V=b;this.oa=c;this.O=d;this.H=e;this.W=f},PLg=function(a,b,c,d,e,f,h){var k;return _.jh(function(l){if(1==l.H)return _.bh(l,WHg(a,b),2);k=l.O;return l.return(new OLg(k,c,d,e,f,h))})},wLg=function(a,b,c){var d,e,f,h,k,l,m,q,r,v,x,y,A,D,F,N,K;return _.jh(function(Q){switch(Q.H){case 1:d=fKg(eKg(3),c.length);e=Date.now();try{f=vLg(b,a.V,a.O,a.H)}catch(P){throw QLg(a,_.t(d,4,2)),P;}h=f.O;k=f.H;l=h.Fo()+1;m=k.Fo()+1;if(c.length!==m)throw QLg(a,_.t(d,4,2)),new Z0("ciphertext",
"Length of ciphertext does not match encompassing ciphertext range");q=Math.floor(k.start/a.H);r=k.end===a.oa-1;v=new FLg(a.ka,a.O,a.H,q);_.dh(Q,2);return _.bh(Q,v.update(c),4);case 4:return y=Q.O,_.bh(Q,ELg(v,r),5);case 5:A=Q.O;D=new Uint8Array(y.length+A.length);D.set(y,0);D.set(A,y.length);if(D.length!==l)throw new VHg("Decrypted data size does not match encompassing plaintext size: expected "+l+" actual "+D.length);F=b.start-h.start;N=h.end-b.end;x=D.subarray(F,D.length-N);_.fh(Q,3);break;case 2:throw K=
_.gh(Q),K instanceof h1?_.t(d,4,4):_.t(d,4,3),QLg(a,d),K;case 3:return QLg(a,gKg(_.t(d,4,1),Date.now()-e)),Q.return(x)}})};OLg.prototype.ha=function(){return this.V};var QLg=function(a,b){a.W&&a.W.O(b.clone())};
var RLg=new BLg;if(!RLg)throw new W0("primitive wrapper cannot be null");var SLg=RLg.Mga();if(!SLg)throw new W0("primitive wrapper cannot be undefined");if(nLg.has(SLg)&&!(nLg.get(SLg)instanceof RLg.constructor))throw new W0("primitive wrapper for type "+SLg+" has already been registered and cannot be overwritten");nLg.set(SLg,RLg);var TLg=new qLg,ULg;void 0===ULg&&(ULg=!0);if(!TLg)throw new W0("Key manager cannot be null.");var VLg=pLg();
if(yHg.has(VLg)){if(!(yHg.get(VLg)instanceof TLg.constructor))throw new W0("Key manager for key type "+VLg+" has already been registered and cannot be overwritten.");if(!BHg.get(VLg)&&ULg)throw new W0("Key manager for key type "+VLg+" has already been registered with forbidden new key operation.");BHg.set(VLg,ULg)}yHg.set(VLg,TLg);BHg.set(VLg,ULg);
var WLg=function(a,b){this.O=a;this.H=a+28;this.V=b},XLg=function(a){return _.jh(function(b){return 1==b.H?_.bh(b,LLg(a.O,a.H,a.V),2):b.return(b.O)})},YLg=function(a,b,c,d){return _.jh(function(e){return 1==e.H?_.bh(e,HLg(b,c,d,a.O,a.H,a.V),2):e.return(e.O)})},ZLg=function(a,b,c,d){var e;return _.jh(function(f){return 1==f.H?(e=aIg(d,a.O,a.H),_.bh(f,PLg(b,c,e,d,a.O,a.H,a.V),2)):f.return(f.O)})};
var $Lg=function(){};
$Lg.prototype.getAuthToken=function(a){var b,c,d,e,f,h,k,l,m,q;return _.jh(function(r){if(1==r.H)return b={aud:"test_kacl",iss:"google-cse-test-authn",email:a.getEmail(),email_verified:!0},c={alg:"RS256",typ:"JWT",kid:"test_authn"},d=_.FB(JSON.stringify(c),4),b.cRb=Math.round(Date.now()/1E3)-1,b.exp=Math.round(b.cRb+3600),e=d+"."+_.FB(JSON.stringify(b),4),f={alg:"RS256",d:"DI4nXowkE3RIcp07CI7NWkOHxe92sFVjgK1XqEikAXH1HK7jBxp9dF5cMKelWsu0GnqSTAMzus04hQ0lBGhGTwVTabMUkGhMRd8QrKWMXbH-DIyDOZtA9ZTg439pIKF-ZOIk2mxEt0P91EmFSq3grIW2xdbDHfnuZEZoPQ6GfMeICwBIIxoNAEbEuPyacVl6WDpfLX3qwtcushPrIo4Jkcbvq2hGk7aj5GX4cr0K1U9Ctlv5G1jSFhzdouSog4GLL2XmxyRDlzSsCxoBTViscitRYV_hHdKDBZWEzOddUoFW_xWTLXm0dlRHFDJMFF8JDuXBkcsJzaal2_Puko3Lpw",dp:"BigtEVDe7kfnEhnp6ZqOG7GHOc11-ZPcoGWq_hd75sFs_nU0-MdD6xDMaQ3AuMm5lRY6cjhSQlKjNf6Qj6yBrxE4l0bbh5uVzU2gpnhTuvWNgd1ENLBqoQ-y7YcOLt5fWUwDHZDPX8JWkZ_BUumjklY6hCkYXZ3BSm7UN_qciic",
dq:"N_7PJ42DLwJbmIlAGdQnLoxFLXEHzRbFr5Arass6ZjrtyabZ6T1hQxhjc8Vil72PHbDQ4_Beh1p5-RCBOhrm7667jsJWNei8Qmu-Abz-06OfjtBx_nzNic7Gc4sh-Cc5dU-UdX9hit2_ruBkFOIphjlTjhyFOoRvk58ZkS7bduM",e:"AQAB",ext:!0,key_ops:["sign"],kty:"RSA",n:"yU4wVOVDxYat-sgUp5Zmd32bUfdVYh1c-nKSN7JbYett_K437Y58n_IBgQntbTLxcy_96DtbaJ7Jf2ZPcwnIp1MLDkd6MLesdlRFgE-6jwG00LfeD-AYGitOh7zmWwpN32dKqLuV4CpoC7vVDGFJVVuNW_FnitKFulfG2Q-I9aSUhXoHvsqMKK9T2YSXQZa79Xh2PgErhn_X0kwoKgf8D_VLZcZWIXSVBq06fOBFW5-0sIIFGyOqWadtT98n-iQZ5XNHPXlYI-Geejk3B62YY5ND1_87poRUOavZzw5LB54dMLL4_WA32QVT72GUeeLwkwYQ30_tUyl2ZiEl_QlVeQ",
p:"_fAWJqfp8-Pc4RCYpvuaitDxjblmJf6-eI5SIExdKKbd_M9qKuSQFWG1OOW0C1l5cd9hitZZrfrE-a4_MU9SlF1jKVDYSAiaznKzfVaMDHNtntDOiGW1zm6EoMhfCo--Nv7wTfbOobSni7uFV_Vx5jDKvG7tQ9iDfn0f3k0Xzk8",q:"yvCvLuIRiJ9GMEmDCaw7x9FHODEdJp01rHjUSGhhwpshzQQHTme_ynQYPSt7KsxwOcJlr5P9OKf6DC6GGmsuzAZx3wqIRzkKa_X7od7aOV7MNLhytndJaZKgi1Olf6uIv96dWwNBtLQOR2_eGRbtBWCldVkUjnFBwoMGcgaptbc",qi:"BmuZNEO4_Jlu58O4bunxxMxIOiDoaO72uYyRhcWBqiX4oAJ7GHKN9qP5poq3Uywwnfn8uzOdJe2AoihNPMRSvXvHDyMhIZnMuWIWwhZh4EDmep7b8ELZd_hUKdsu_3TiqHiwfugb8nPsu_jzzLAe1tStt2B5aNSTWQsvvjxVl90"},
_.bh(r,window.crypto.subtle.importKey("jwk",f,{name:"RSASSA-PKCS1-v1_5",hash:"SHA-256"},!1,["sign"]),2);if(3!=r.H)return h=r.O,k=new TextEncoder,_.bh(r,crypto.subtle.sign("RSASSA-PKCS1-v1_5",h,k.encode(e)),3);l=r.O;m=e+"."+_.db(new Uint8Array(l),4);q=hJg(gJg(),m);return r.return(q)})};
var aMg=function(){this.ne=null;this.H=0};aMg.prototype.V=function(a,b,c,d){this.ne=a;this.H=b;_.t(d,2,1E3*b-c);return Promise.resolve()};aMg.prototype.O=function(a,b){if(!this.ne)return Promise.resolve(null);if(1E3*this.H<=a)return _.t(b,1,0),Promise.resolve(null);_.t(b,1,1E3*this.H-a);return Promise.resolve(this.ne)};
var i1=function(a,b,c,d){d=void 0===d?null:d;$0.call(this,a,b,void 0===c?null:c);this.V=d};_.M(i1,$0);i1.prototype.name="IdpError";
var bMg=function(){};
bMg.prototype.exchange=function(a,b,c,d,e,f){var h,k,l,m,q;return _.jh(function(r){switch(r.H){case 1:return h=_.Rna({grant_type:"authorization_code",code:a,redirect_uri:e,client_id:f,code_verifier:b}),_.dh(r,2),_.bh(r,_.ba.fetch(d,{method:"POST",mode:"cors",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:h}),4);case 4:return l=r.O,_.bh(r,l.json(),5);case 5:k=r.O;_.fh(r,3);break;case 2:throw m=_.gh(r),new i1("Auth code exchange fetch request failed",20,m,c);case 3:q=k.id_token;if(!q)throw new i1("ID token is missing from response: "+
JSON.stringify(k),20,null,c);return r.return(q)}})};
var cMg=function(a,b,c,d,e,f,h,k,l,m,q){this.oa=a.endsWith("/")?a.slice(0,-1):a;this.ua=b.endsWith("/")?b.slice(0,-1):b;this.W=c;this.V=d;this.ka=e;this.H=f;this.O=h;this.ha=k;this.Ob=l;this.Ca=m;this.Ba=q},dMg=function(a,b,c,d,e,f,h){var k,l,m,q;return _.jh(function(r){if(1==r.H){k=bIg();l=bIg();q=m="";if(2!==h)return r.Zd(2);var v=new Uint8Array(32);window.crypto.getRandomValues(v);q=_.db(v,4);return _.bh(r,cIg(q),3)}2!=r.H&&(m=r.O);return r.return(new cMg(a,b,c,d,e,f,h,k,l,q,m))})},eMg=function(a,
b){return _.jh(function(c){return c.return(dMg(a.oa,a.ua,a.W,a.V,b,a.H,a.O))})};cMg.prototype.getState=function(){return this.Ob};cMg.prototype.getEmail=function(){return this.ka};
var fMg=function(a,b){a:switch(a.O){case 1:var c="id_token";break a;case 2:c="code";break a;default:throw Error("Sq`"+a.O);}c={response_type:c,response_mode:2===a.O?"query":"fragment",scope:"openid email",login_hint:a.ka,client_id:a.W,state:a.getState(),nonce:a.ha,redirect_uri:a.V};b&&(c.prompt="none");2===a.O&&(c.code_challenge_method="S256",c.code_challenge=a.Ba);return _.bk(new _.Uj(a.oa),_.STc(c))};
var gMg=function(a){var b=a.lastIndexOf("@");return 0<b?a.substring(b+1,a.length):""};
var hMg=function(a,b){this.H=new Map;this.W=a;this.O=b};
hMg.prototype.V=function(a,b){var c=this,d,e,f,h,k,l,m,q,r;return _.jh(function(v){switch(v.H){case 1:d=gMg(a);if(!d)throw new $0(a+" is not a valid email address.",1);return _.bh(v,iMg(c,d,a),2);case 2:if(e=v.O)return v.return(e);if(!c.O){v.Zd(3);break}return _.bh(v,c.O(d),4);case 4:f=v.O;case 3:return h=f?5E3:1E4,k="google.com"===d?"https://krahsc.google.com/.well-known/cse-configuration":"https://cse."+d+"/.well-known/cse-configuration",l=Date.now(),_.dh(v,5,6),_.bh(v,jMg(k,h),8);case 8:m=v.O;
case 6:_.hh(v);var x=Date.now()-l;_.t(b,1,x);_.ih(v,7);break;case 5:q=_.gh(v);if(f)q&&"AbortError"===q.name?_.t(b,8,3):_.t(b,8,1);else throw f1(b,7),new $0("Unable to get CSE configuration content from "+k,14,q);v.Zd(6);break;case 7:m&&_.t(b,2,m.status);if(m&&!m.ok)if(f)_.t(b,8,2);else throw f1(b,7),new $0("Fetching content from "+k+" failed with "+m.status+" status",14);return(r=!m||!m.ok)?_.bh(v,kMg(c,d,a,b,f),12):_.bh(v,lMg(c,m,d,a,b),11);case 11:return v.return(v.O);case 12:return v.return(v.O)}})};
var kMg=function(a,b,c,d,e){var f,h,k,l,m,q;return _.jh(function(r){if(!e)throw f1(d,7),new $0("No D3 IDP setting found during fallback.",14);if(!_.Sh(e,_.Txe,1,_.Xxe))throw f1(d,8),new $0("D3 IDP setting does not include OIDC configuration.",15);f=_.pi(e,_.Txe,1,_.Xxe);h=_.p(f,1);k=f.getName()||"";l=_.p(f,3);m=_.Oh(f,5)?_.p(f,5):1;return(q=mMg(h,k,l))?(f1(d,8),r.return(Promise.reject(q))):r.return(nMg(a,h,k,l,m,b,c,d))})},lMg=function(a,b,c,d,e){return b.json().catch(function(f){f1(e,8);return Promise.reject(new $0("Failed to parse CSE configuration content to json.",
15,f))}).then(function(f){var h=f.client_id,k=f.discovery_uri,l=f.name||"";(f=f.grant_type)||(f="implicit");switch(f){case "implicit":f=1;break;case "authorization_code":f=2;break;default:return f1(e,8),Promise.reject(new $0("CSE configuration includes unknown grant_type: "+f,15))}var m=mMg(k,l,h);return m?(f1(e,8),Promise.reject(m)):nMg(a,k,l,h,f,c,d,e)})},nMg=function(a,b,c,d,e,f,h,k){return oMg(b,c,e,k).then(function(l){return dMg(l.oBb,l.m9b,d,a.W,h,c,e)}).then(function(l){a.H.set(f,{hEb:Date.now(),
entry:l});return l})},oMg=function(a,b,c,d){var e=Date.now();return _.ba.fetch(a,{referrerPolicy:"origin"}).catch(function(f){f1(d,5);return Promise.reject(new i1("Unable to get OIDC content from "+a,12,f,b))}).then(function(f){_.t(d,4,f.status);return f.ok?pMg(f,b,c,d):(f1(d,14),Promise.reject(new i1("Fetching content from "+a+" failed with "+f.status+" status",31,null,b)))}).finally(function(){var f=Date.now()-e;return _.t(d,3,f)})},pMg=function(a,b,c,d){return a.json().catch(function(e){f1(d,6);
return Promise.reject(new i1("Failed to parse discovery configuration content to json.",13,e,b))}).then(function(e){var f=e.authorization_endpoint,h=e.token_endpoint,k=e.response_types_supported;return(e=e.authorization_endpoint&&e.token_endpoint?k&&0!==k.length?1===c&&!k.includes("id_token")||2===c&&!k.includes("code")?new i1("response_type is not supported by the OIDC provider: "+c,13,null,b):null:new i1('"response_types_supported" is null or empty in OIDC configuration',13,null,b):new i1('OIDC configuration content does not include the required "authorization_endpoint" or "token_endpoint" field.',
13,null,b))?(f1(d,6),Promise.reject(e)):{oBb:f,m9b:h}})},iMg=function(a,b,c){var d;return _.jh(function(e){if(d=a.H.get(b))if(864E5<Date.now()-d.hEb)a.H.delete(b);else return e.return(eMg(d.entry,c));return e.return(null)})},mMg=function(a,b,c){return c&&a?null:new i1('CSE configuration content does not include the required "client_id" and "discovery_uri" field.',15,null,b)},jMg=function(a,b){var c,d,e,f;return _.jh(function(h){switch(h.H){case 1:var k=_.ba.AbortController?new _.ba.AbortController:
void 0;(c=k)&&(d=setTimeout(function(){return c.abort()},b));_.dh(h,2,3);e={referrerPolicy:"origin"};c&&(e.signal=c.signal);return _.bh(h,_.ba.fetch(a,e),5);case 5:return h.return(h.O);case 3:_.hh(h);d&&clearTimeout(d);_.ih(h,0);break;case 2:throw f=_.gh(h),f;}})};
var qMg={interaction_required:10,login_required:10,account_selection_required:10,consent_required:10,invalid_request_uri:18,invalid_request_object:18,request_not_supported:18,request_uri_not_supported:18,registration_not_supported:18,invalid_request:18,unauthorized_client:18,access_denied:18,unsupported_response_type:18,invalid_scope:18,server_error:19,temporarily_unavailable:19};
var rMg=function(a){this.H=a};rMg.prototype.getToken=function(){return this.H};rMg.prototype.getEmail=function(){var a=j1(this);return a.google_email||a.email};rMg.prototype.yN=function(){var a=_.qh()/1E3;return j1(this).iat-60>a||j1(this).exp-60<a};var j1=function(a){return JSON.parse(atob(a.H.split(".")[1]))},sMg=function(a,b){a=a.getEmail();return!!a&&a.toLowerCase()===b.toLowerCase()};
var uMg=function(a,b,c){var d=this;this.H=a;this.Ra=b;this.Ga=function(e){return tMg(d,e)};this.W=!1;this.ha=this.Ha=this.ka=null;this.O=c?c:new kKg;this.Ma=Date.now()},wMg=function(a){if(a.W)return a.ka;a.W=!0;a.Ma=Date.now();a.ka=vMg(a);window.addEventListener("message",a.Ga,!1);a.ua();return a.ka},xMg=function(a){a.W=!1;a.Ba();window.removeEventListener("message",a.Ga,!1);var b=Date.now()-a.Ma;_.t(a.O,6,b)},yMg=function(a,b){a.ha(b);xMg(a)},vMg=function(a){return new Promise(function(b,c){a.Ha=
b;a.ha=c})},tMg=function(a,b){var c,d,e,f,h,k,l,m,q,r,v,x;return _.jh(function(y){switch(y.H){case 1:c=b;if(!a.Ca(c))return y.return();d=c.data;if(a.H.getState()!==d.state)return y.return();if(e=d.error){var A=qMg[e];f=A?A:18;h=e+": "+d.error_description;zMg(a,f);yMg(a,new i1(h,f,null,a.H.H));return y.return()}k=d.code;l="";if(!k){y.Zd(2);break}_.dh(y,3);return _.bh(y,a.Ra.exchange(k,a.H.Ca,a.H.H,a.H.ua,a.H.V,a.H.W),5);case 5:l=y.O;_.fh(y,2);break;case 3:return m=_.gh(y),zMg(a,20),yMg(a,m),y.return();
case 2:q=l||d.token;if(!q)return f1(a.O,9),yMg(a,new i1("Missing JWT from callback",16,null,a.H.H)),y.return();r=new rMg(q);try{v=j1(r)}catch(D){return f1(a.O,9),yMg(a,new i1("Unparsable JWT from callback",16,null,a.H.H)),y.return()}A=a.H.ha;if(j1(r).nonce!=A)return f1(a.O,9),yMg(a,new i1("JWT from callback has mismatching nonce. Want: "+a.H.ha+", got: "+v.nonce,16,null,a.H.H)),y.return();x=Math.floor(Date.now()/1E3);if(j1(r).iat-60>x)return f1(a.O,9),yMg(a,new i1("JWT from callback has invalid issuance date: iat is "+
v.iat+", must be before "+x,16,null,a.H.H)),y.return();if(j1(r).exp-60<x)return f1(a.O,9),yMg(a,new i1("JWT from callback is expired: exp is "+v.iat+", must be after "+x,16,null,a.H.H)),y.return();a.Ha(r);xMg(a);_.ch(y)}})},zMg=function(a,b){switch(b){case 11:b=4;break;case 10:b=3;break;case 18:b=10;break;case 19:b=11;break;case 20:b=12;break;default:b=0}f1(a.O,b)};
var AMg=function(a,b,c){uMg.call(this,a,b,c);this.V=null;this.oa=0};_.M(AMg,uMg);AMg.prototype.ua=function(){this.V=_.pj(fMg(this.H,!1).toString(),window,_.aj("_blank"));lKg(this.O,_.ik(fMg(this.H,!1),"login_hint").toString());this.V?BMg(this):(f1(this.O,13),this.ha(new i1("Unable to open the popup.",25,null,this.H.H)))};AMg.prototype.Ba=function(){this.V&&!this.V.closed&&(_.Il(this.oa),this.V.close(),BMg(this))};AMg.prototype.Ca=function(a){return a.origin==(new URL(this.H.V)).origin};
var BMg=function(a){a.V.closed?(a.V=null,a.W&&(f1(a.O,4),a.ha(new i1("Popup was closed before authentication completed.",11,null,a.H.H)))):a.oa=_.Hl(function(){return BMg(a)},1E3)};
var CMg=function(a,b,c){uMg.call(this,a,b,c);this.V=null;this.oa=0};_.M(CMg,uMg);CMg.prototype.Ca=function(a){return!!this.V&&a.source===this.V.contentWindow&&"null"===a.origin};
CMg.prototype.ua=function(){var a=this,b=_.Dc(fMg(this.H,!0).toString());lKg(this.O,_.ik(fMg(this.H,!0),"login_hint").toString());this.V=b=_.Hk(document,_.fna(b,{sandbox:"allow-scripts",style:_.aj("display:none")}));document.body.appendChild(b);this.oa=_.Hl(function(){a.W&&(f1(a.O,3),yMg(a,new i1("Timed out while waiting for iframe to authenticate.",10,null,a.H.H)))},5E3)};CMg.prototype.Ba=function(){_.Il(this.oa);this.V&&(_.Mk(this.V),this.V=null)};
var DMg=function(a,b,c,d){this.ha=a;this.V=b;this.W=c;this.O=d;this.H=new Map};DMg.prototype.getAuthToken=function(a,b){var c=this,d=a.He();a=_.p(a,2)||"";var e=d+"|"+a;this.H.has(e)||(b=EMg(this,d,a,b).finally(function(){return c.H.delete(e)}),this.H.set(e,b));return this.H.get(e)};
var EMg=function(a,b,c,d){var e,f,h,k;return _.jh(function(l){if(1==l.H){e=d||new rKg;var m=_.t(e,1,1==b);var q=gMg(c);m=_.t(m,2,q);q=new pKg;_.z(m,6,q);return _.bh(l,a.W.O(Date.now(),_.w(e,pKg,6)),2)}f=l.O;if(!f)return l.return(FMg(a,b,c,e));a:{q=new rMg(f);try{if(q.yN()){m=null;break a}}catch(r){m=null;break a}m=q}return(h=m)&&sMg(h,c)?(m=new iKg,_.ci(e,4,sKg,m),a.O.ka(e),k=new WKg,m=h.getToken(),_.ai(k,1,XKg,m),l.return(Promise.resolve(k))):l.return(FMg(a,b,c,e))})},FMg=function(a,b,c,d){var e,
f,h,k,l,m,q;return _.jh(function(r){switch(r.H){case 1:return e=new kKg,_.ci(d,5,sKg,e),_.eh(r,2),_.bh(r,a.ha.V(c,e),4);case 4:return f=r.O,h=f.H,2==b?_.bh(r,wMg(new AMg(f,a.V,e)),8):_.bh(r,wMg(new CMg(f,a.V,e)),7);case 7:k=r.O;r.Zd(6);break;case 8:k=r.O;case 6:l=k;if(j1(l).exp&&j1(l).iat){var v=1E3*(j1(l).exp-j1(l).iat);_.t(d,3,v)}m=l.getEmail();if(!m)throw f1(e,15),new i1("Authentication token has no email or google_email claim",32,null,h);if(!sMg(l,c))throw f1(e,2),new i1("Mismatch between user email "+
c+" and authentication token email "+m,9,null,h);f1(e,1);q=new WKg;v=l.getToken();_.ai(q,1,XKg,v);return _.bh(r,a.W.V(l.getToken(),j1(l).exp-60,Date.now(),_.w(d,pKg,6)),9);case 9:return r.return(q);case 2:_.hh(r),a.O.ka(d),_.ih(r,0)}})};
var GMg=function(a,b,c){this.H=new DMg(new hMg(a,c),new bMg,new aMg,b)};GMg.prototype.getAuthToken=function(a){var b=this,c;return _.jh(function(d){c=VKg(UKg(new TKg,_.pi(a,U0,1,eJg).He()),a.getEmail());return d.return(b.H.getAuthToken(c).then(function(e){return hJg(gJg(),e.getAuthToken())}))})};
var HMg=function(a,b,c,d){this.W=a;this.O=b;this.V=c;this.H=d};
HMg.prototype.getAuthToken=function(a){var b=this,c,d,e,f,h,k,l,m,q;return _.jh(function(r){switch(r.H){case 1:c=Date.now();var v=new $Jg;var x=_.pi(a,U0,1,eJg).He();v=_.t(v,1,x);x=a.getEmail();v=_.t(v,2,x);d=_.t(v,4,b.O);if(!b.H){r.Zd(2);break}_.dh(r,3);e=d;f=e.H;return _.bh(r,b.H(gMg(a.getEmail())),5);case 5:f.call(e,r.O);_.fh(r,2);break;case 3:_.gh(r);case 2:return h=_.wi(new d1,aKg,d),k=void 0,_.dh(r,6,7),_.bh(r,k1(b.W,1,h),9);case 9:return l=r.O,m=l.getExtension(cKg),r.return(hJg(gJg(),m.getAuthToken()));
case 7:_.hh(r);b.V.ha(eIg(1,c,k));if(k)throw k;_.ih(r,0);break;case 6:k=q=_.gh(r),r.Zd(7)}})};
var IMg=function(a,b,c){this.W=a;this.H=b;this.O=c};
IMg.prototype.V=function(a,b){var c=this,d,e,f,h,k,l,m;return _.jh(function(q){switch(q.H){case 1:var r=new BKg;r=_.t(r,1,a);d=_.t(r,3,c.H);if(!c.O){q.Zd(2);break}_.dh(q,3);e=d;f=e.H;return _.bh(q,c.O(gMg(a)),5);case 5:f.call(e,q.O);_.fh(q,2);break;case 3:_.gh(q);case 2:return h=new LJg,_.eh(q,6),_.bh(q,k1(c.W,6,_.wi(new d1,CKg,d),h),8);case 8:return k=q.O,l=k.getExtension(EKg),_.bh(q,dMg(_.p(l,1),_.p(l,2),_.p(l,3),c.H,a,_.p(l,4),_.p(l,5)),9);case 9:return q.return(q.O);case 6:_.hh(q),(m=h.getExtension(FKg))&&
_.rb(b,m),_.ih(q,0)}})};
var JMg=function(a){this.H=a};JMg.prototype.V=function(a,b,c,d){var e=this,f,h;return _.jh(function(k){if(1==k.H){f=new LJg;_.eh(k,2);var l=k1,m=e.H,q=new d1;var r=(new PKg).setToken(a);r=_.t(r,2,b);return _.bh(k,l(m,9,QKg.CC(q,r),f),4)}if(2!=k.H)return k.return(Promise.resolve());_.hh(k);(h=f.getExtension(SKg))&&_.rb(d,h);return _.ih(k,0)})};
JMg.prototype.O=function(a,b){var c=this,d,e,f,h;return _.jh(function(k){if(1==k.H)return d=new LJg,_.eh(k,2),_.bh(k,k1(c.H,8,_.wi(new d1,LKg,new KKg),d),4);if(2!=k.H)return e=k.O,f=e.getExtension(NKg),k.return(Promise.resolve(f.getToken()));_.hh(k);(h=d.getExtension(OKg))&&_.rb(b,h);return _.ih(k,0)})};
var KMg=function(a){this.H=a};KMg.prototype.exchange=function(a,b,c,d,e,f){var h=this,k,l,m;return _.jh(function(q){if(1==q.H){var r=new d1;var v=new GKg;v=_.t(v,1,a);v=_.t(v,2,b);v=_.t(v,3,c);v=_.t(v,4,d);v=_.t(v,5,e);v=_.t(v,6,f);k=HKg.CC(r,v);return _.bh(q,k1(h.H,7,k),2)}l=q.O;m=_.gi(l.getExtension(JKg),1);if(!m)throw new i1("ID token is missing from proxied auth code exchange response",20,null,c);return q.return(m)})};
var LMg=function(a,b){this.H=a;this.O=b};LMg.prototype.getAuthToken=function(a){var b=this,c,d,e;return _.jh(function(f){if(1==f.H){c=_.pi(a,U0,1,eJg).He();if(1===c)return f.return(b.H.getAuthToken(a));d=VKg(UKg(new TKg,c),a.getEmail());var h=b.O,k=h.getAuthToken;var l=new rKg;l=_.t(l,7,!0);return _.bh(f,k.call(h,d,l),2)}e=f.O;return f.return(hJg(gJg(),e.getAuthToken()))})};
var MMg=function(a,b,c,d){this.V=a;this.O=b;this.W=c;this.ha=d;this.H=fIg(a,b,c,d)},NMg=function(a,b,c){var d;return _.jh(function(e){switch(e.H){case 1:a.H||(a.H=fIg(a.V,a.O,a.W,a.ha));if(a.H.Ph){e.Zd(2);break}_.dh(e,3);return _.bh(e,gIg(a.H),5);case 5:_.fh(e,4);break;case 3:throw d=_.gh(e),a.H&&(a.H.Lo.remove(),a.H=null),d;case 4:a.H.Ph=!0;case 2:return c?e.return(new Promise(function(f,h){var k=setTimeout(function(){h(new $0("No response from iframe channel within timeout",27))},c);a.H.channel.H(b).then(function(l){clearTimeout(k);
f(l)}).catch(function(l){clearTimeout(k);h(l)})})):e.return(a.H.channel.H(b))}})},k1=function(a,b,c,d){var e,f,h,k;return _.jh(function(l){if(1==l.H)return _.bh(l,NMg(a,{type:b,request:_.Ii(c,OJg)},1===b?void 0:3E4),2);e=l.O;f=e.data;if(!f)throw new $0("Iframe returned an empty message",17);h=null;try{h=_.Hi(f.response,RJg)}catch(m){throw new $0("Iframe returned an malformed response",17);}d&&_.Ph(h,LJg,3)&&_.rb(d,_.w(h,LJg,3));if((k=h.getError())&&0!==k.getError())throw _.si(k,3)?new i1(_.J(k,2),
k.getError(),null,_.J(k,3)):new $0(_.J(k,2),k.getError());return l.return(h)})};
var OMg={"Content-Type":"application/json"},PMg=function(a){this.H=a};
PMg.prototype.wrap=function(a){var b=this,c,d,e,f,h,k,l,m,q,r,v,x;return _.jh(function(y){switch(y.H){case 1:if(!_.si(a,3))throw new $0("Missing authorization token",5);c=Date.now();d=_.p(a,3);e=QMg(d,"/wrap");f=RMg(d);var A=wKg(1);A=_.t(A,2,e);h=_.t(A,6,f);l={key:null==(k=_.Uh(a,1))?void 0:_.iba(k),authorization:d,authentication:_.p(a,2),reason:_.p(a,4)};_.dh(y,2);return _.bh(y,_.ba.fetch(e,{method:"POST",mode:"cors",headers:OMg,body:JSON.stringify(l)}),4);case 4:m=y.O;_.fh(y,3);break;case 2:throw q=
_.gh(y),y=Date.now()-c,_.t(h,3,y),_.t(h,5,7),b.H.H(h),new $0("Wrap request to KACLS failed",28,q);case 3:_.t(h,4,m.status);A=Date.now()-c;_.t(h,3,A);if(!m.ok)throw b.H.H(h),hIg(m.status);_.dh(y,5);return _.bh(y,m.json(),7);case 7:r=y.O;_.fh(y,6);break;case 5:throw v=_.gh(y),_.t(h,5,2),b.H.H(h),new $0("Unable to parse response as JSON",2,v);case 6:x=r.wrapped_key;if(!x)throw _.t(h,5,3),b.H.H(h),new $0("wrapped_key is missing in KACLS response",2);_.t(h,5,1);b.H.H(h);return y.return(IJg(x))}})};
PMg.prototype.V=function(a){var b=this,c,d,e,f,h,k,l,m,q,r,v;return _.jh(function(x){switch(x.H){case 1:if(!_.si(a,3))throw new $0("Missing authorization token",5);c=Date.now();d=_.p(a,3);e=QMg(d,"/unwrap");f=RMg(d);var y=wKg(2);y=_.t(y,2,e);h=_.t(y,6,f);k={wrapped_key:_.p(a,1),authorization:d,authentication:_.p(a,2),reason:_.p(a,4)};_.dh(x,2);return _.bh(x,_.ba.fetch(e,{method:"POST",mode:"cors",headers:OMg,body:JSON.stringify(k)}),4);case 4:l=x.O;_.fh(x,3);break;case 2:throw m=_.gh(x),x=Date.now()-
c,_.t(h,3,x),_.t(h,5,7),b.H.H(h),new $0("Unwrap request to KACLS failed",28,m);case 3:_.t(h,4,l.status);y=Date.now()-c;_.t(h,3,y);if(!l.ok)throw b.H.H(h),hIg(l.status);_.dh(x,5);return _.bh(x,l.json(),7);case 7:q=x.O;_.fh(x,6);break;case 5:throw r=_.gh(x),_.t(h,5,2),b.H.H(h),new $0("Unable to parse response as JSON",3,r);case 6:v=q.key;if(!v)throw _.t(h,5,3),b.H.H(h),new $0("key is missing in KACLS response",3);_.t(h,5,1);b.H.H(h);return x.return(FJg(v))}})};
var QMg=function(a,b){a=SMg(a).kacls_url;if(!a)throw new $0("Missing KACLS URL claim in authorization token",5);return a.endsWith("/")?a.slice(0,-1)+b:a+b},RMg=function(a){a=SMg(a);if(!a.resource_name)throw new $0("resource_name claim is empty",5);return a.resource_name},SMg=function(a){try{return JSON.parse(_.jla(a.split(".")[1]))}catch(b){throw new $0("Cannot decode authorization token",5,b);}};
var TMg=function(a,b){this.O=a;this.H=b};TMg.prototype.wrap=function(a){var b=this,c,d,e,f,h,k,l;return _.jh(function(m){switch(m.H){case 1:c=Date.now();var q=new WJg;var r=_.eDb(_.Uh(a,1));q=_.t(q,1,_.ab(r,!1));q=_.t(q,2,_.p(a,2));q=_.t(q,3,_.p(a,3));d=_.t(q,4,_.p(a,4));e=_.wi(new d1,XJg,d);f=void 0;_.dh(m,2,3);return _.bh(m,k1(b.O,2,e),5);case 5:return h=m.O,k=h.getExtension(ZJg),m.return(IJg(_.p(k,1)));case 3:_.hh(m);b.H.ha(eIg(2,c,f));if(f)throw f;_.ih(m,0);break;case 2:f=l=_.gh(m),m.Zd(3)}})};
TMg.prototype.V=function(a){var b=this,c,d,e,f,h,k,l;return _.jh(function(m){switch(m.H){case 1:c=Date.now();var q=new SJg;q=_.t(q,1,_.p(a,1));q=_.t(q,2,_.p(a,2));q=_.t(q,3,_.p(a,3));d=_.t(q,4,_.p(a,4));e=_.wi(new d1,TJg,d);f=void 0;_.dh(m,2,3);return _.bh(m,k1(b.O,3,e),5);case 5:return h=m.O,k=h.getExtension(VJg),m.return(FJg(_.eDb(_.Vh(k,1))));case 3:_.hh(m);b.H.ha(eIg(3,c,f));if(f)throw f;_.ih(m,0);break;case 2:f=l=_.gh(m),m.Zd(3)}})};
var UMg=function(a){_.G.call(this,a)};_.M(UMg,_.G);var VMg=[1,2,3,5];
var WMg=function(a,b){b=void 0===b?0:b;this.W=(new _.GUc(1269,a)).build();this.V=b};WMg.prototype.O=function(a){var b=new UMg;a=_.ci(b,3,VMg,a);a=_.t(a,4,this.V);this.W.V(a)};WMg.prototype.ka=function(a){var b=new UMg;a=_.ci(b,2,VMg,a);a=_.t(a,4,this.V);this.W.V(a)};WMg.prototype.H=function(a){var b=new UMg;a=_.ci(b,1,VMg,a);a=_.t(a,4,this.V);this.W.V(a)};WMg.prototype.ha=function(a){var b=new UMg;a=_.ci(b,5,VMg,a);a=_.t(a,4,this.V);this.W.V(a)};
var XMg=function(a){this.V=a};XMg.prototype.O=function(a){var b=k1,c=this.V,d=new d1,e=new yKg;a=_.ci(e,3,zKg,a);b(c,10,AKg.CC(d,a))};XMg.prototype.ka=function(a){var b=k1,c=this.V,d=new d1,e=new yKg;a=_.ci(e,2,zKg,a);b(c,10,AKg.CC(d,a))};XMg.prototype.H=function(a){var b=k1,c=this.V,d=new d1,e=new yKg;a=_.ci(e,1,zKg,a);b(c,10,AKg.CC(d,a))};XMg.prototype.ha=function(a){var b=k1,c=this.V,d=new d1,e=new yKg;a=_.ci(e,4,zKg,a);b(c,10,AKg.CC(d,a))};
var YMg=function(a,b,c){this.V=a;this.H=b;this.O=c},ZMg=function(a,b){var c=_.Oh(a,4)?_.p(a,4).toString():(c=(c=_.Jj(_.Ek().location.href))&&/\/u\/(\d+)\/?/.exec(c))?c[1]:"0";var d=_.p(a,3)||0;if(_.w(a,_.$S,6)&&_.u(_.w(a,_.$S,6),1)){var e=_.Id(_.w(_.w(a,_.$S,6),_.sm,2));var f=_.xd(_.w(a,_.$S,6),5);e=new MMg(e,d,c,f)}else e=void 0;var h;e&&_.u(_.w(a,_.$S,6),4)?h=new XMg(e):h=new WMg(c,d);a:switch(c=h,_.Oh(a,1)?_.p(a,1):1){case 0:if(!_.si(a,7))throw new $0("IDP is OIDC but OIDC callback URL is missing",
1);d=_.p(a,7);a=e?_.w(a,_.$S,6)&&_.u(_.w(a,_.$S,6),3)?new LMg(new HMg(e,d,c,b),new DMg(new IMg(e,d,b),new KMg(e),new JMg(e),c)):new HMg(e,d,c,b):new GMg(d,c,b);break a;case 1:a=new $Lg;break a;default:throw new $0("Unknown IDP type",1);}return new YMg(a,e?new TMg(e,h):new PMg(h),h)},gNg=function(a,b){var c,d,e,f,h,k,l,m,q;return _.jh(function(r){switch(r.H){case 1:if(1<_.sb(b,oJg,5).length)throw new $0("at most one additional KACLS is allowed in multi-wrapping",1);$Mg(b);c=aNg(_.p(b,4));_.dh(r,2);
return _.bh(r,XLg(bNg(a,c)),4);case 4:d=r.O;_.fh(r,3);break;case 2:throw e=_.gh(r),new $0(e.message,7,e);case 3:return _.bh(r,cNg(a,_.w(b,kHg,2),dNg(_.p(b,3))),5);case 5:return f=r.O,_.bh(r,jIg(d.getKey(),_.p(b,3)),6);case 6:return h=r.O,l=function(){var v,x;return _.jh(function(y){if(1==y.H)return v=_.p(_.w(b,c1,1),2),_.bh(y,eNg(a,d.getKey(),f,_.p(b,3),_.gi(_.w(b,c1,1),1),_.p(_.w(b,c1,1),2),!0),2);x=y.O;k=fNg(v,x,_.p(b,4),d.V,h);_.ch(y)})}(),m=new WIg,q=_.sb(b,oJg,5).map(function(v){var x,y;return _.jh(function(A){if(1==
A.H)return x=_.p(_.w(v,c1,1),2),_.bh(A,eNg(a,d.getKey(),f,_.p(v,2),_.gi(_.w(v,c1,1),1),x,!1),2);y=A.O;var D=fNg(x,y,_.p(b,4),d.V,h);_.di(m,1,V0,D);_.ch(A)})}),_.bh(r,Promise.all(q.concat([l])),7);case 7:return r.return(new rLg(d,k))}})},kNg=function(a,b){var c,d,e,f,h,k;return _.jh(function(l){switch(l.H){case 1:return c=b.getMetadata(),_.bh(l,hNg(a,b),2);case 2:return d=l.O,_.bh(l,iNg(a,c.ata(),d,_.p(b,5),_.gi(_.w(b,c1,3),1),_.p(_.w(b,c1,3),2)),3);case 3:return e=l.O,f=jNg(c),_.dh(l,4),_.bh(l,YLg(bNg(a,
aNg(c.Vga().H())),e,f,_.p(b,2)-g1.length),6);case 6:h=l.O;_.fh(l,5);break;case 4:throw k=_.gh(l),new $0(k.message,7,k);case 5:return l.return(new cLg(h))}})},lNg=function(a,b){var c,d,e,f,h,k;return _.jh(function(l){switch(l.H){case 1:return c=b.getMetadata(),_.bh(l,hNg(a,b),2);case 2:return d=l.O,_.bh(l,iNg(a,c.ata(),d,_.p(b,5),_.gi(_.w(b,c1,3),1),_.p(_.w(b,c1,3),2)),3);case 3:return e=l.O,f=jNg(c),_.dh(l,4),_.bh(l,ZLg(bNg(a,aNg(c.Vga().H())),e,f,_.p(b,2)-g1.length),6);case 6:h=l.O;_.fh(l,5);break;
case 4:throw k=_.gh(l),new $0(k.message,7,k);case 5:return l.return(new uLg(h))}})};YMg.prototype.ha=function(){if(!_.Sh(void 0,nHg,3,oHg))throw new $0("unknown encryption type",1);return mNg(0,(void 0).Vga().H())};
var mNg=function(a,b){a=aNg(b);try{return aIg(NaN-g1.length,a,a+28)}catch(c){if(c instanceof Z0)throw new $0(c.message,1,c);throw new $0(c.message,7,c);}},aNg=function(a){switch(a){case 1:return 2097152;case 2:return 65536;case 3:return 16384;case 0:throw new $0("Buffer size config is not set",1);default:throw new $0("Unexpected buffer size config",1);}},bNg=function(a,b){return new WLg(b,a.O)},nNg=function(a,b,c){var d,e;return _.jh(function(f){if(1==f.H)return _.bh(f,cNg(a,b,c),2);d=f.O;e=new cJg;
var h=new iJg;h=_.t(h,1,d);jJg.CC(e,h);return f.return(e)})},hNg=function(a,b){return _.jh(function(c){if(_.Ph(b,cJg,6))return c.return(Promise.resolve(_.gi(_.w(b,cJg,6).getExtension(jJg),1)));if(_.Ph(b,kHg,4))return c.return(cNg(a,_.w(b,kHg,4),dNg(_.p(b,5))));throw new $0("Invalid authentication token.",1);})},cNg=function(a,b,c){var d,e;return _.jh(function(f){if(1==f.H){var h=new dJg;var k=_.pi(b,U0,1,lHg);h=_.ci(h,1,eJg,k);d=_.t(h,2,c);return _.bh(f,a.V.getAuthToken(d),2)}e=f.O;return f.return(e.getAuthToken())})},
dNg=function(a){try{return JSON.parse(atob(a.split(".")[1])).email}catch(b){throw new $0("Invalid authorization token.",1);}},eNg=function(a,b,c,d,e,f,h){var k,l,m,q,r;return _.jh(function(v){switch(v.H){case 1:var x=new GJg;x=_.t(x,1,_.ab(b,!1));x=_.t(x,2,c);x=_.t(x,3,d);k=_.t(x,4,e);_.dh(v,2);return _.bh(v,a.H.wrap(k),4);case 4:l=v.O;_.fh(v,3);break;case 2:throw m=_.gh(v),q=m instanceof $0?m.H:17,r=m instanceof $0?m.O:m,new yLg(m.message,q,f,h,r);case 3:return v.return(_.p(l,1))}})},iNg=function(a,
b,c,d,e,f){var h,k,l,m,q,r;return _.jh(function(v){switch(v.H){case 1:var x=new DJg;x=_.t(x,1,b);x=_.t(x,2,c);x=_.t(x,3,d);h=_.t(x,4,e);_.dh(v,2);return _.bh(v,a.H.V(h),4);case 4:k=v.O;_.fh(v,3);break;case 2:throw l=_.gh(v),m=l instanceof $0?l.H:17,q=l instanceof $0?l.O:l,new yLg(l.message,m,f,!0,q);case 3:return v.return(null==(r=_.Uh(k,1))?void 0:_.lK(r))}})},fNg=function(a,b,c,d,e){var f=new V0;a=_.t(f,1,a);b=_.t(a,2,b);a=new nHg;c=_.t(a,1,c);c=_.ci(b,3,oHg,c);d=_.z(c,4,d);return _.t(d,5,_.ab(e,
!1))},jNg=function(a){return _.Ph(a,qHg,4)&&_.Oh(a.rEa(),1)?a.rEa():pHg(new qHg,1)},$Mg=function(a){a=_.sb(a,oJg,5).map(function(b){return _.p(b,2)}).concat(_.p(a,3));if(null===a.map(function(b){try{var c=JSON.parse(atob(b.split(".")[1])).resource_name}catch(d){throw new $0("Invalid authorization token.",1);}return c}).reduce(function(b,c){return b===c?b:null}))throw new $0("mismatching resource_name in authorization tokens",1);if(null===a.map(function(b){try{var c=JSON.parse(atob(b.split(".")[1])).perimeter_id}catch(d){throw new $0("Invalid authorization token.",
1);}return c}).reduce(function(b,c){return b===c?b:null}))throw new $0("mismatching perimeter_id in authorization tokens",1);},oNg=function(a,b){var c,d,e,f,h,k,l,m,q,r,v,x,y,A,D;return _.jh(function(F){switch(F.H){case 1:c=_.w(b,uJg,2);d=_.w(b,rJg,3);e=c.getMetadata();f=_.p(c,2);h=_.p(d,2);var N=dNg(f),K=dNg(h);if(N!==K)throw new $0("Source email and destination email do not match",1);return _.bh(F,cNg(a,_.w(b,kHg,1),dNg(f)),2);case 2:return k=F.O,_.bh(F,iNg(a,e.ata(),k,f,_.gi(_.w(c,c1,1),1),_.p(_.w(c,
c1,1),2)),3);case 3:return l=F.O,_.bh(F,eNg(a,l,k,h,_.gi(_.w(d,c1,1),1),_.p(_.w(d,c1,1),2),!0),4);case 4:return m=F.O,q=YMg,r=fNg,v=_.p(_.w(d,c1,1),2),x=m,y=e.Vga().H(),A=jNg(e),_.bh(F,jIg(l,h),5);case 5:return D=r.call(q,v,x,y,A,F.O),N=F.return,K=new CJg,K=_.z(K,1,D),N.call(F,K)}})};
var pNg=function(a,b){this.tb=a;this.O=b;this.H=null};pNg.prototype.get=function(){if(!this.H){this.O.info("drive.ds.cse.CseProvider","Creating CSE client");var a=_.w(this.tb,_.bta,2),b=qNg.get(_.xL(this.tb));this.H=2===_.se(a,3,1)?ZMg(ZIg($Ig(aJg(bJg(YIg(),_.p(a,4)),_.w(a,_.$S,6)),_.QJ(_.NJ(this.tb))),b),function(){return Promise.resolve(_.w(a,_.Wxe,5)||null)}):ZMg(new XIg)}return this.H};var qNg=new Map([[0,0],[12,1],[13,2],[14,3],[9,5],[1,4],[15,6]]);
var rNg=function(a){return 1E3*JSON.parse(atob(a.split(".")[1])).exp<Date.now()};
var sNg=function(a,b,c,d){_.R.call(this);this.W=a;this.H=b;this.O=c;this.V=d};_.M(sNg,_.R);
var tNg=function(a,b){var c=b.Ac()||_.p(b,12);if(!_.rL(a.H))return Promise.resolve(kIg().then(function(l){return _.mXc(_.nXc(_.lXc(new _.LL,c),l),123)}));var d=_.p(b,24),e=_.p(b,25),f=_.p(b,32),h=b.Fj();if(c&&d&&!rNg(d)&&e&&null!=f&&h&&null!=h)return a.O.info("drive.ds.cse.CseTokenProvider","Using prefetched CseToken for "+c),d=_.pXc(_.oXc(_.mXc(_.nXc(_.lXc(new _.LL,c),d),e),f),h),Promise.resolve(d);var k=new _.hn;_.jn(k,1422);a.O.info("drive.ds.cse.CseTokenProvider","Fetching CseToken for "+c);return Promise.resolve(a.W.then(function(l){var m,
q,r,v,x,y;return _.jh(function(A){if(1==A.H)return m=_.sb(b,_.rn,28),q=m.find(function(D){return D.getId()===c}),r=OIg(PIg(NIg(new _.kL,c),k),q),!_.L(a.H,8,!1)||c?A.Zd(2):(v=_.xd(b,3)[0])?(_.t(r,5,v),A.Zd(2)):(x=_.xd(b,10)[0])?_.bh(A,_.z0c(a.V,x).promise,5):A.Zd(2);2!=A.H&&(y=A.O,_.t(r,5,y));return A.return(l.jf(r))})}).then(function(l){return Promise.resolve(l)}).then(function(l){c||(c=l.Ac());return l}))};
var uNg=function(a,b,c,d,e){var f=rHg(_.p(a,2),_.p(a,1),_.p(a,3),_.p(a,6));e=mJg(kJg(lJg(new c1,_.p(a,2)),""),e);var h=new nJg;f=_.z(h,1,f);c=mHg(c);c=_.z(f,4,c);e=_.z(c,3,e);a=_.t(e,5,_.p(a,4));b=_.t(a,2,b);return _.z(b,6,d)};
var vNg=function(a,b){this.O=a;this.V=b;this.done=!1};vNg.prototype.H=function(a){var b=this,c,d,e,f,h,k,l;return _.jh(function(m){if(1==m.H){if(b.done)throw Error("Tq");c=(new DataView(a.buffer)).getUint32(0,!1);d=a.subarray(4,4+c);e=_.Hi(d,SIg);f=a.length-d.length-4;h=a.subarray(4+c,a.length);return _.bh(m,wNg(b.O,e,f,b.V),2)}if(3!=m.H){k=m.O;if(h.length!==f)throw Error("Uq");return _.bh(m,k.H(h),3)}l=m.O;b.done=!0;return m.return(l)})};
var wNg=function(a,b,c,d){var e,f,h;return _.jh(function(k){e=lJg(kJg(new c1,"CSE Demo"),123);var l=new kHg,m=new U0;f=_.ci(l,1,lHg,m);l=new nJg;l=_.z(l,3,e);l=_.z(l,4,f);l=_.t(l,5,a);l=_.t(l,2,c);l=_.z(l,1,b);h=_.z(l,6,d);return k.return(kNg(ZMg(new XIg),h))})};
var xNg=function(a){this.W=a};xNg.prototype.V=function(){throw Error("bg");};xNg.prototype.O=function(){throw Error("bg");};
xNg.prototype.H=function(a){var b=this,c,d,e,f,h;return _.jh(function(k){if(1==k.H){var l=b.W;var m=lJg(kJg(new c1,"CSE Demo"),123);var q=new kHg;var r=new U0;q=_.ci(q,1,lHg,r);r=new qJg;m=_.z(r,1,m);m=_.z(m,2,q);l=_.t(m,3,l);l=_.t(l,4,1);l=gNg(ZMg(new XIg),l);return _.bh(k,l,2)}if(3!=k.H)return c=k.O,d=_.Ii(c.V(),SIg),e=new Uint8Array(4),(new DataView(e.buffer)).setUint32(0,d.length,!1),_.bh(k,c.H(a),3);f=k.O;h=new Uint8Array(4+d.length+f.length);h.set(e,0);h.set(d,4);h.set(f,4+d.length);return k.return(h)})};
var zNg=function(a,b){if(a instanceof _.de)return a;if(a instanceof _.ee)return new _.de("Dataservice error",a);if(a instanceof $0){var c=yNg[a.H]||1,d=_.qK(_.ZJ(_.jXa(void 0,void 0,a),2),c);a instanceof i1?_.t(d,24,a.V):230<=c&&260>c&&_.t(d,25,b);return new _.de("CSE library error",d)}return new _.de("Generic error",void 0,a instanceof Error?a:void 0)},BNg=function(a){return ANg[a.dh.Rw()]||0},l1={},yNg=(l1[9]=200,l1[10]=201,l1[11]=202,l1[12]=203,l1[13]=204,l1[14]=205,l1[15]=206,l1[16]=207,l1[18]=
208,l1[19]=209,l1[20]=210,l1[25]=211,l1[31]=212,l1[32]=213,l1[2]=230,l1[3]=231,l1[4]=232,l1[5]=233,l1[28]=234,l1[29]=235,l1[30]=236,l1[6]=260,l1[7]=261,l1[8]=262,l1[1]=290,l1[17]=291,l1),m1={},ANg=(m1[200]=200,m1[201]=201,m1[202]=202,m1[203]=203,m1[204]=204,m1[205]=205,m1[206]=206,m1[207]=207,m1[208]=208,m1[209]=209,m1[210]=210,m1[211]=211,m1[212]=212,m1[213]=213,m1[230]=230,m1[231]=231,m1[232]=232,m1[233]=233,m1[234]=234,m1[235]=235,m1[236]=236,m1[260]=260,m1[261]=261,m1[262]=262,m1[290]=290,m1[291]=
291,m1);
var CNg=function(a,b,c,d,e){this.V=a;this.O=b;this.H=c;this.W=d;this.wc=e};
CNg.prototype.copy=function(a,b){var c=this,d,e,f,h,k,l,m,q,r,v,x,y,A,D,F,N,K;return _.jh(function(Q){switch(Q.H){case 1:return _.bh(Q,Promise.all([DNg(c.V,a.getId(),_.p(a,9)),tNg(c.O,xIg(new _.CK,_.p(a,10)))]),2);case 2:return d=Q.O,e=_.n(d),f=e.next().value,h=e.next().value,k=f,l=h,m=DIg(k),q=rHg(_.p(m,2),_.p(m,1),_.p(m,3),_.p(m,6)),r=mJg(kJg(lJg(new c1,_.p(m,2)),""),k.Fj()),v=xJg(wJg(vJg(r),_.p(m,4)),q),x=mJg(kJg(lJg(new c1,_.p(l,2)),""),l.Fj()),y=tJg(sJg(x),_.p(l,3)),A=BJg(AJg(zJg(new yJg,mHg(b)),
v),y),_.bh(Q,oNg(c.H.get(),A).catch(function(P){throw zNg(P,_.p(m,5));}),3);case 3:return D=Q.O,a=HIg(a.clone(),l.Ac()),_.bh(Q,c.W,4);case 4:return F=Q.O,_.bh(Q,F.jf(new _.EK(a,_.w(D,V0,1))),5);case 5:N=Q.O;if(!c.wc){Q.Zd(6);break}K=N.getItem();return _.bh(Q,c.wc.Hp([_.SJ(new _.RJ,K.getId()).setItem(K)]),6);case 6:return Q.return(N)}})};
var ENg=function(a,b,c,d){this.V=a;this.W=b;this.Ye=c;this.O=d;this.H=new Map},GNg=function(a,b,c,d,e){a.O.info("drive.ds.cse.FileDecrypter","Get buffered decrypter for "+b.getId()+"/"+_.DL(b));b=b.getId();var f=a.Ye.H(106028);f&&(a.H.set(b,f),wIg(a1(f),d));return c.then(function(h){return e.then(function(k){return FNg(a,DIg(h),_.p(h,3),d,k,h.Fj()).then(function(l){if(f){var m=vIg(a1(f),!0);_.t(m,4,_.p(h,3));f.H()}return l})}).catch(function(k){k=zNg(k,_.gi(DIg(h),5));if(f){var l=vIg(a1(f),!1);_.t(l,
2,BNg(k));f.H()}throw k;})})},HNg=function(a,b,c,d){var e=a.Ye.H(106014);if(e){var f=a.H.get(b.getId());f&&_.iSc(e,f)}return c.then(function(h){a.O.info("drive.ds.cse.FileDecrypter","Decrypt file "+b.getId()+"/"+(_.DL(b)+", size: {$fileBytes.size}"));return d.H(h).then(function(k){if(e){var l=vIg(a1(e),!0);_.t(l,4,h.byteLength);e.H();a.H.delete(b.getId())}return k})}).catch(function(h){h=zNg(h,"");if(e){var k=vIg(a1(e),!1);_.t(k,2,BNg(h));e.H();a.H.delete(b.getId())}throw h;})},FNg=function(a,b,c,
d,e,f){return _.rL(a.V)?(b=uNg(b,c,d,e,f),kNg(a.W.get(),b)):Promise.resolve(new vNg(_.p(b,4),e))};
var INg=function(a,b){this.H=a;this.Ye=b},bLg=function(a,b,c){var d;return _.jh(function(e){return 1==e.H?(d=a.Ye.H(106011),_.bh(e,iHg(b.wd(),c),2)):e.return(a.H.then(function(f){return f.jf(b)}).then(function(f){var h=f.H;JNg(c,d,!0,h.length,f.retryCount);return h},function(f){JNg(c,d,!1,0,_.aK(f).Pca()||0);throw f;}))})},JNg=function(a,b,c,d,e){null!=b&&a.then(function(f){var h=_.w(_.XL(b),qIg,10);if(!h){h=new qIg;var k=_.XL(b);_.z(k,10,h)}k=_.t(h,1,c);f=_.t(k,5,_.p(f,3));f=_.t(f,4,d);_.t(f,6,e);
c||_.t(h,2,0);b.H()})};
var KNg=function(a){_.El.call(this);var b=this;this.requestId=a;this.H=this.O=this.item=null;this.DAa=new Promise(function(c,d){b.O=c;b.H=d})};_.M(KNg,_.El);KNg.prototype.Hj=function(){return this.requestId};KNg.prototype.getItem=function(){return this.item};KNg.prototype.setItem=function(a){this.item=a};var LNg=function(a,b,c,d){a.O&&a.H&&a.dispatchEvent(new UIg(a.requestId,b,c,d));6===b&&a.item&&a.O?(a.O((new _.LJ).setItem(a.item)),a.O=null):a.H&&d&&(7===b||4===b||0===b)&&(a.H(d),a.H=null)};
var MNg=function(a,b,c,d,e){this.H=a;this.ka=b;this.ha=c;this.Ye=d;this.W=e;this.V=new Map;this.O=new Map},ONg=function(a,b,c,d,e){a.W.info("drive.ds.cse.FileEncrypter","Setup encrypted '"+b.getTitle()+"'");var f;return tNg(a.ka,b).then(function(h){LNg(c,2);xIg(b,h.Ac());_.t(b,25,_.p(h,2));_.t(b,32,_.p(h,5));yIg(b,h.Fj());_.t(b,24,_.p(h,3));f=_.rL(a.H)?b.Ac():"demoId";var k=a.Ye.H(106029);k&&(a.O.set(f,k),tIg(IIg(k),d));return NNg(a,h,d,e).then(function(l){LNg(c,1);a.V.set(f,l);k&&(sIg(IIg(k),!0),
k.H());return l}).catch(function(l){l=zNg(l,_.p(h,5));LNg(c,4,void 0,l);if(k){var m=sIg(IIg(k),!1);_.t(m,2,BNg(l));k.H();a.O.delete(f)}throw l;})})},PNg=function(a,b,c,d,e,f){a.W.info("drive.ds.cse.FileEncrypter","Encrypt next '"+b.getTitle()+"', blob size: "+(c.size+", hasMore: "+f));var h=_.rL(a.H)?b.Ac():"demoId",k=a.Ye.H(106013);k&&(b=a.O.get(h))&&_.iSc(k,b);return(new Response(c)).arrayBuffer().then(function(l){return(f?e.O(new Uint8Array(l)):e.H(new Uint8Array(l))).then(function(m){f||LNg(d,
3);if(k){var q=sIg(IIg(k),!0);_.t(q,4,l.byteLength);k.H()}return m})}).catch(function(l){l=zNg(l,"");LNg(d,4,void 0,l);if(k){var m=sIg(IIg(k),!1);_.t(m,2,BNg(l));k.H();a.O.delete(h)}throw l;})},NNg=function(a,b,c,d){if(_.rL(a.H)){var e=mJg(kJg(lJg(new c1,_.p(b,2)),""),b.Fj());var f=new qJg;c=mHg(c);f=_.z(f,2,c);e=_.z(f,1,e);b=_.t(e,3,_.p(b,3));d=_.t(b,4,d);return gNg(a.ha.get(),d)}return Promise.resolve(new xNg(_.p(b,3)))};
MNg.prototype.getMetadata=function(a){if(_.rL(this.H))return(a=a&&this.V.get(a))?a.V():void 0};
var QNg=function(a,b,c){_.R.call(this);this.W=a;this.ha=b;this.H=c;this.V=new Map;this.O=new Map};_.M(QNg,_.R);
var RNg=function(a,b){var c=_.DL(b),d=_.w(b,zIg,5);if(c&&d){var e=jHg(b.getId(),c);!a.O.get(e)&&c===_.p(d,4)&&_.si(d,1)&&_.si(d,2)&&_.Oh(d,3)&&_.Ph(d,_.zm,5)&&(a.H.info("drive.ds.cse.FileMetadataCache","Caching prefetched FileMetadata for "+(b.getId()+"/"+c)),a.O.set(e,d))}},DNg=function(a,b,c){var d,e,f,h,k,l,m,q,r,v,x,y,A,D,F,N,K;return _.jh(function(Q){if(1==Q.H)return _.rL(a.ha)?Q.Zd(2):_.bh(Q,Promise.all([SNg(a,b),kIg()]),3);if(2!=Q.H){d=Q.O;e=_.n(d);f=e.next().value;h=e.next().value;k=f;l=h;
m=k.getTitle()||"";q=k.getMimeType()||"";r=_.p(k,14)||-1;v=k.Fj()||"";c||(c=_.p(k,78)||"");var P=Q.return,W=CIg(BIg(AIg((new zIg).setTitle(m),q),r),c);var ca=new _.zm;ca=_.t(ca,4,l);return P.call(Q,FIg(EIg(W,ca),v))}x=a.getKey(b,c);if(c){y=a.O.get(x);if((F=(null==(A=y)?void 0:null==(D=DIg(A))?void 0:_.p(D,4))||null)&&!rNg(F))return a.H.info("drive.ds.cse.FileMetadataCache","Using cached FileMetadata for "+x),Q.return(Promise.resolve(y));if(N=a.V.get(x))return a.H.info("drive.ds.cse.FileMetadataCache",
"Waiting on FileMetadata for "+x),Q.return(N)}K=new _.Uy;TNg(a,K,b,c).catch(K.reject);return Q.return(K.promise)})},TNg=function(a,b,c,d){var e=a.getKey(c,d);a.H.info("drive.ds.cse.FileMetadataCache","Fetching FileMetadata for "+c+"/"+d);e&&a.V.set(e,b.promise);SNg(a,c).then(function(f){var h=f.Fj()||"",k=_.p(f,78)||"";if(d&&d!==k)return UNg(a,c,d).then(function(r){var v=_.p(r,7)||"",x=r.getMimeType()||"",y=_.p(r,8)||-1;r=_.w(r,_.zm,10);return FIg(EIg(CIg(BIg(AIg((new zIg).setTitle(v),x),y),d),r),
h)});var l=f.getTitle()||"",m=f.getMimeType()||"",q=_.p(f,14)||-1;f=_.w(_.w(f,_.ym,138),_.zm,2);return FIg(EIg(CIg(BIg(AIg((new zIg).setTitle(l),m),q),k),f),h)}).then(function(f){e&&a.V.delete(e);a.O.set(a.getKey(c,_.p(f,4)),f);b.resolve(f)},function(f){e&&a.V.delete(e);b.reject(f)});return b.promise},SNg=function(a,b){return a.W.then(function(c){var d=_.uJ(_.tJ(new _.rJ,[b]),_.jn(new _.hn,1488));d=_.CWc(_.DWc(new _.OK,d),0);return c.jf(d).then(function(e){return e.od().Ed()[0]})})},UNg=function(a,
b,c){return a.W.then(function(d){return d.jf(new _.c0c(b,c))})};QNg.prototype.getKey=function(a,b){return b?a+"|"+b:""};
var VNg=function(a,b){this.H=a;this.O=b};
var WNg=function(a,b,c){this.W=a;this.Ye=b;this.O=c;this.V=new Map;this.H=new Map},XNg=function(a,b,c,d,e){var f,h;return _.jh(function(k){if(1==k.H)return a.O.info("drive.ds.cse.RangeDecrypter","Get range decrypter for "+b.getId()+"/"+_.DL(b)),(f=a.Ye.H(106028))&&wIg(a1(f),d),_.bh(k,iHg(b,c),2);h=jHg(b.getId(),_.DL(b));return k.return(c.then(function(l){return e.then(function(m){var q=uNg(DIg(l),_.p(l,3),d,m,l.Fj()),r=q.Dc();if(m=a.V.get(r))return m;m=new Promise(function(v,x){lNg(a.W.get(),q).then(function(y){if(f){a.H.set(h,
f);var A=vIg(a1(f),!0),D=y.ha();_.t(A,4,D);f.H()}v(y)},x)});a.V.set(r,m);setTimeout(function(){return void a.V.delete(r)},18E5);return m}).catch(function(m){m=zNg(m,_.gi(DIg(l),5));if(f){var q=vIg(a1(f),!1);_.t(q,2,BNg(m));f.H();a.H.delete(h)}throw m;})}))})},YNg=function(a,b,c,d,e){a.O.info("drive.ds.cse.RangeDecrypter","Decrypt range "+b.getId()+"/"+_.DL(b)+", range: "+(e.start+"-"+e.end));var f=a.Ye.H(106014);f&&(a=a.H.get(jHg(b.getId(),_.DL(b))))&&_.iSc(f,a);return xLg(d,e,c).then(function(h){if(f){var k=
vIg(a1(f),!0);_.t(k,4,h.byteLength);f.H()}return h}).catch(function(h){h=zNg(h,"");if(f){var k=vIg(a1(f),!1);_.t(k,2,BNg(h));f.H()}throw h;})},$Ng=function(a,b,c,d,e,f,h,k){return ZNg(a,b,c,d,e,h,f,0,Math.ceil((e.end-e.start+1)/f),void 0,k)},ZNg=function(a,b,c,d,e,f,h,k,l,m,q){if(k>=l)return Promise.resolve();var r=q(h)||1,v=hHg(h*r,e,m);a.O.info("drive.ds.cse.RangeDecrypter","Decrypt chunk "+b.getId()+"/"+_.DL(b)+", curChunk: "+(k+", chunkSize: "+h+", chunks: ")+r);return YNg(a,b,c,d,v).then(function(x){return new VNg(v,
x)}).then(f).then(function(){return ZNg(a,b,c,d,e,f,h,k+r,l,v,q)})};
var aOg=function(a,b,c,d){this.clientId=a;this.requestId=b;this.port=c;this.H=d;this.state=0;this.Lo=null};aOg.prototype.getState=function(){return this.state};aOg.prototype.setActive=function(){this.state=1;this.H();this.H=null};aOg.prototype.write=function(a){var b=this.clientId,c=this.requestId;var d=a.H;a=a.O;b=sHg(tHg(8),b).tu(c);c=new ZKg;c=_.t(c,1,d.start);d=_.t(c,2,d.end);d=_.t(d,3,_.ab(a,!1));d=_.z(b,6,d).Dc();this.port.postMessage(d)};
aOg.prototype.close=function(){var a=this;this.Lo&&setTimeout(function(){_.Mk(a.Lo);a.Lo=null},500);this.state=2};
var bOg=_.Nja(["/file/cse/serviceworker.js"]),cOg=function(a){this.isEnabled=void 0===a?!1:a;this.W=_.dea(bOg);this.H=this.port=this.O=null;this.clientId=MIg();this.downloads=new Map;this.handler=new _.tg;this.handler.listen(_.Ek(),"beforeunload",this.V.bind(this))};cOg.prototype.FU=function(){return MIg()};cOg.prototype.V=function(){var a=this;this.port&&(this.port.postMessage(vHg(this.clientId)),setTimeout(function(){return void a.port.close()},250))};
cOg.prototype.start=function(a,b,c,d){var e=this;if(this.downloads.has(a))throw new _.de("Request with this Id already exists: "+a);return dOg(this).then(function(f){return f&&e.port?new Promise(function(h){e.downloads.set(a,new aOg(e.clientId,a,e.port,h));h=e.clientId;h=sHg(tHg(3),h).tu(a);var k=new YKg;k=_.t(k,2,d);k=_.t(k,3,c);k=_.t(k,1,b);h=_.z(h,5,k).Dc();e.port.postMessage(h);eOg(e)}):Promise.resolve()})};cOg.prototype.wma=function(a,b){(a=fOg(this,a))&&a.write(b)};
var gOg=function(a,b){var c=fOg(a,b);c&&(c.close(),a.downloads.delete(b),null!==a.H&&0===a.downloads.size&&(clearInterval(a.H),a.H=null))},fOg=function(a,b){if(!a.downloads.has(b))throw new _.de("No download with this request Id exists: "+b);return a.downloads.get(b)},dOg=function(a){if(!a.isEnabled)return Promise.resolve(null);if(!a.O){var b=_.Kka(),c=b?b.serviceWorker:null;if(!c)return Promise.resolve(null);a.O=c.getRegistration("/decrypted/download/").then(function(d){var e;d&&d.scope.includes("/decrypted/download/")?
e=d:e=c.register(_.sc(a.W),{scope:"/decrypted/download/"});return e}).then(function(d){return d?new Promise(function(e){if(d.active)e(d.active);else{var f=d.installing||d.waiting;f||e(null);f.addEventListener("statechange",function(){"activated"===f.state&&e(d.active)})}}):Promise.resolve(null)}).then(function(d){if(d){var e=new MessageChannel;a.port=e.port1;a.port.onmessage=function(f){var h=window.location.origin||window.location.protocol+"//"+window.location.host;if(!f.origin||f.origin===h)if(h=
_.ti($Kg,f.data),_.Oh(h,1)&&_.si(h,3))switch(_.se(h,1,0)){case 6:f=h.Hj();(f=fOg(a,f))&&f.setActive();break;case 7:if(_.si(h,4)&&(f=h.Hj(),h=_.J(h,4),f=fOg(a,f))){if(!(_.ba.HTMLIFrameElement&&"sandbox"in _.ba.HTMLIFrameElement.prototype))throw Error("na");var k={};k.src=h?_.Ub(_.Xb(h)):null;k.srcdoc=null;k.sandbox="";h=_.ena(k,{},{"aria-hidden":"true",style:{height:"0",left:"0",position:"absolute",top:"0",width:"0"}});h=_.bna("iframe",h);f.Lo=_.Hk(document,h);f.Lo&&(f.Lo.sandbox.add("allow-scripts"),
f.Lo.sandbox.add("allow-downloads"),f.Lo.sandbox.add("allow-same-origin"),document.body.appendChild(f.Lo))}break;case 4:case 5:break;case 0:gOg(a,h.Hj());break;case 2:gOg(a,h.Hj());if(h.Io())throw new _.de(h.getError());break;case 1:gOg(a,h.Hj());break;default:throw new _.de("Invalid message type received from SW: "+_.se(h,1,0));}else throw new _.de("Malformed message received from SW: "+h);};d.postMessage(uHg(a.clientId),[e.port2])}return d}).catch(function(){return Promise.resolve(null)})}return a.O};
cOg.prototype.Xv=function(){return this.isEnabled&&!_.Nh.Yy?dOg(this).then(function(a){return!!a}):Promise.resolve(!1)};var eOg=function(a){a.port&&null===a.H&&0<a.downloads.size&&dOg(a).then(function(b){b&&(a.H=setInterval(function(){var c=tHg(11).Dc();a.port.postMessage(c)},1E4))})};
var hOg=function(){KNg.call(this,_.lf());var a=this;this.V=this.W=null;this.handler=new _.tg(this);this.La(this.handler);this.vDb=new Promise(function(b,c){a.W=b;a.V=c})};_.M(hOg,KNg);var iOg=function(a,b){a.handler.listen(b,["Fa","te"],function(c){var d=b.getItem();!a.getItem()&&d&&a.setItem(d);a.dispatchEvent(c);a.W&&d&&(c=_.ZVc(new _.LJ,d.getId()).setItem(d),a.W(c),a.W=null)});b.DAa.catch(function(c){return void a.handleError(c)})};
hOg.prototype.handleError=function(a){a instanceof Error&&this.V&&(this.V(a),this.V=null)};
var jOg=function(a,b){this.H=a;this.O=b};
var kOg=function(){};kOg.prototype.apply=function(a,b){return b};
var lOg=function(){};lOg.prototype.apply=function(){};
var mOg=function(){};mOg.prototype.translate=function(a){return a};
var nOg=function(){};nOg.prototype.validate=function(){return null};
var oOg=function(a,b,c,d,e,f,h,k){var l=_.gl(),m=new _.dXc(a);b=new _.m0c(a,b,new _.sYc(a),k);var q=new _.b0c(a,d),r=new _.WWa("https://ssl.gstatic.com/docs/common/cleardot.gif",void 0,_.yL(a),void 0,_.bK()?new _.EWc:void 0);f=new _.xYc(f,r,l.promise,d,k);c=TIg(a,new _.n_c(m,c,b,q,e,f),d,k,c,l.promise,f);l.resolve(new _.KZc(new nOg,new mOg,new _.o_c,c,new _.GYc(function(){return!1},function(){}),new kOg,new lOg,a,h,k));return l.promise};
var pOg=function(a,b,c,d,e){this.ka=a;this.ua=b;this.Ba=c;this.ha=d;this.Ca=e;this.V=this.W=this.H=0;this.O=null};pOg.prototype.oa=function(a,b){var c=this;if(this.W===a&&this.V===b&&this.O)return Promise.resolve(new Blob([this.O]));if(this.W===a&&b<this.V)return Promise.resolve(new Blob([]));var d=this.H-a,e=a+d,f=b-d;return PNg(this.ka,this.Ba,this.ha.slice(e,e+f),this.Ca,this.ua,a+b<this.ha.size).then(function(h){c.H+=f;h&&(c.W=a,c.V=b,c.O=h);return Promise.resolve(new Blob([h]))})};
var qOg=function(a,b,c,d,e,f,h,k){_.p0c.call(this,a,b,c,d,e,f,k);this.wc=h;this.Ye=null;this.H={}};_.M(qOg,_.p0c);
var rOg=function(a,b){if(a.H[b])throw new _.de("FileUploadTracker already exists for this request.");var c=new KNg(b);return a.H[b]=c},vOg=function(a,b,c,d,e){var f=b.Hj();sOg(a,f,5);return a.upload(b,c,d,e).then(function(h){return tOg(a,f,h)},function(h){return uOg(a,f,h)})},wOg=function(a,b){var c,d,e;return _.jh(function(f){return 1==f.H?(c=b.Hj(),sOg(a,c,5),d=Promise,e=d.all,_.bh(f,a.retry([c]),2)):f.return(e.call(d,f.O).then(function(h){return tOg(a,c,h[0])},function(h){return uOg(a,c,h)}))})},
tOg=function(a,b,c){if(!b)throw new _.de("Request Id is required.");if(8===c.getStatus())return _.dl();var d=c.getItem();xOg(a,b,d);d=a.wc?a.wc.Hp([_.SJ(new _.RJ,_.Vm(d)).setItem(d)]):Promise.resolve();return _.dl(d.then(function(){return sOg(a,b,6,c)}))},uOg=function(a,b,c){if(b)return sOg(a,b,7,void 0,_.ce(c)),_.dl();throw new _.de("Request Id is required.");},sOg=function(a,b,c,d,e){(a=a.H[b])&&LNg(a,c,d,e)};
qOg.prototype.ka=function(a,b){var c=this.wd(a);a=this.H[a];if(c&&a)if(c&&c.request){var d=0;if(c.file){var e=c.request&&c.request.YB();e&&(d=_.p(e,1));0===d&&(d=c.file.size)}a.dispatchEvent(new _.vXc(a.requestId,b,d))}else throw new _.de("Invalid request.");};qOg.prototype.EU=function(){throw new _.de("Creating bug reports not supported.");};var xOg=function(a,b,c){var d=a.H[b];d&&(d.setItem(c),sOg(a,b,8))};
var mIg=_.Dc(""),yOg=function(){this.port=this.Lo=null;this.H=[]};yOg.prototype.load=function(){var a=this,b=zOg();this.Lo=nIg(b);AOg().then(function(){a.Lo&&document.body.appendChild(a.Lo)});return lIg(this.Lo,b).then(function(c){for(a.port=c.ports[0];0<a.H.length;)c=a.H.shift(),a.port.postMessage(c.data,c.D9b)})};
yOg.prototype.exec=function(a,b){var c=this;return new Promise(function(d,e){var f=new MessageChannel;f.port1.onmessage=function(r){f.port1.onmessage=null;r=r.data;null!=r.error?e(new EvalError(r.error)):d(r.result)};for(var h=[],k=[],l=[],m=_.n(null!=b?b:[]),q=m.next();!q.done;q=m.next())q=q.value,h.push(q.name),k.push(q.value),q.transfer&&l.push(q.value);h={code:a,paramNames:h,values:k};c.port?c.port.postMessage(h,[f.port2].concat(_.fd(l))):c.H.push({data:h,D9b:[f.port2].concat(_.fd(l))})})};
yOg.prototype.dispose=function(){null!=this.Lo&&(this.Lo.parentNode&&this.Lo.parentNode.removeChild(this.Lo),this.Lo=null)};var zOg=function(){var a=(window.crypto||window.msCrypto).getRandomValues(new Uint8Array(16));return Array.prototype.join.call(a,".")},AOg=function(){return new Promise(function(a){"loading"!=document.readyState?a():_.Ae(document,"DOMContentLoaded",function(){a()})})};
var BOg,COg=function(){this.sandbox=new yOg};COg.download=function(a,b,c){c=void 0===c?"":c;return _.jh(function(d){BOg||(BOg=new COg,BOg.init());return _.bh(d,BOg.download(a,b,c),0)})};COg.prototype.init=function(){var a=this;return _.jh(function(b){return _.bh(b,a.sandbox.load(),0)})};
COg.prototype.download=function(a,b,c){c=void 0===c?"":c;var d=this,e,f;return _.jh(function(h){return 1==h.H?(e=a instanceof Blob?a:new Blob([a],{type:c}),"function"===typeof navigator.msSaveOrOpenBlob?(navigator.msSaveOrOpenBlob(e,b),h.return(oIg())):(!_.ka()||0<=_.wh(_.yaa(),16)?0:_.oaa()||!(!_.ha("iPad")&&!_.ha("iPhone")||_.paa()||_.oaa()||_.ha("Coast")||_.naa())&&_.ha("AppleWebKit"))?(f=new FileReader,f.onload=function(){var k=_.Gk("A"),l=_.xc(String(f.result));l=_.Qda(l);void 0!==l&&(k.href=
l);k.download=b;k.click()},f.readAsDataURL(e),h.return(oIg())):_.bh(h,d.sandbox.exec('var url=URL.createObjectURL(blob);var a=document.createElement("a");if(!("download" in a)){throw new Error("Downloading not supported on this browser");}a.href=url;a.download=filename;document.body.appendChild(a);a.click();setTimeout(function(){document.body.removeChild(a);URL.revokeObjectURL(url);},250);',[{name:"blob",value:e,transfer:!1},{name:"filename",value:b,transfer:!1}]),2)):_.bh(h,oIg(),0)})};
COg.prototype.dispose=function(){this.sandbox.dispose()};_.kc("SafeDownloader",COg);
var n1=function(a,b,c){var d=this;this.Ma=new _.IYc;this.H=new _.lWc;this.tb=a=_.AVc(a.clone(),[].concat(_.fd(new Set(_.xb(a,27).concat(DOg)))));this.Qg=new _.VWc(a);this.Ha=new _.YWc(a,null,this.Qg);var e=new _.o0c,f=new _.OXc(_.yL(a)?3:1),h=_.qYc(this.tb,new _.VXc,f,this.H,Promise.resolve(),7);this.ka=oOg(this.tb,this.Qg,this.Ma,this.H,this.Ha,f,e,h);e=new _.y0c;this.O=new qOg(a,this.Ha,this.Ma,this.ka,this.H,e,c,h);f=_.w(this.tb,_.bta,2);this.W=new pNg(a,this.H);b&&this.W.get();this.Ga=new sNg(this.ka,
f,this.H,e);this.V=new QNg(this.ka,f,this.H);this.oa=new MNg(f,this.Ga,this.W,h,this.H);this.Va=new ENg(f,this.W,h,this.H);this.Ca=new WNg(this.W,h,this.H);this.Ba=new INg(this.ka,h);this.ua=new cOg(_.L(f,7,!1));this.Ra=new CNg(this.V,this.Ga,this.W,this.ka,c);_.rh("drive.DebugUtil.printCseLogs",function(){window.console.log(_.nWc(d.H))});h.O(106E3)};
n1.prototype.kfa=function(a,b,c,d){var e=this;c=void 0===c?!1:c;d=void 0===d?1:d;this.H.info("drive.ds.FileServiceImpl","Encrypted upload of '"+a.getTitle()+"', oidc popup: "+c);var f=a.Hj();f||(f=this.O.FU(),a.tu(f));!a.ky()&&b instanceof File&&b.lastModified&&a.rO(b.lastModified);var h=rOg(this.O,f);ONg(this.oa,a,h,c,d).then(function(k){var l=a.getTitle()||"";l=new File([b],l,{type:b.type});k=new pOg(e.oa,k,a,b,h);return vOg(e.O,a,l,e.oa.getMetadata(a.Ac()),k.oa.bind(k))},function(k){return void LNg(h,
0,void 0,_.ce(k))}).finally(function(){var k=e.oa,l=a.Ac();_.rL(k.H)||(l="demoId");l&&k.V.delete(l);k=a.Hj();delete e.O.H[k]});return h};n1.prototype.upload=function(a,b){var c=this;this.H.info("drive.ds.FileServiceImpl","Upload of "+a.getTitle());var d=a.Hj();d||(d=this.O.FU(),a.tu(d));var e=rOg(this.O,d),f=null;b&&(f=b instanceof File?b:new File([b],a.getTitle()||""));Promise.resolve(vOg(this.O,a,f)).finally(function(){delete c.O.H[d]});return e};
n1.prototype.H3b=function(a){var b=this,c=rOg(this.O,a);wOg(this.O,c).finally(function(){delete b.O.H[a]});return c};var EOg=function(a,b){return nNg(a.W.get(),mHg(b),_.NJ(a.tb).getEmail())};n1.prototype.ha=function(){var a=_.sXc[void 0];return mNg(this.W.get(),a)};
n1.prototype.bgb=function(a,b){b=void 0===b?!1:b;this.H.info("drive.ds.FileServiceImpl","Range download/decrypt of "+a.getId()+"/"+(_.DL(a)+", range: undefined-undefined, oidc popup: ")+b);RNg(this.V,a);var c=this.Ca,d=DNg(this.V,a.getId(),_.DL(a)),e=new aLg(a,this.Ba,d),f=EOg(this,b),h=XNg(c,a,d,b||!1,f);b=new ReadableStream({start:function(k){return h.then(function(l){var m=new _.aT(0,l.ha()-1);return YNg(c,a,e,l,m)}).then(function(l){k.enqueue(l);k.close()})}});return new jOg(b,d.then(function(k){return _.p(k,
4)}))};
var FOg=function(a,b,c){c=void 0===c?!1:c;a.H.info("drive.ds.FileServiceImpl","Streaming download/decrypt of "+b.getId()+"/"+_.DL(b));RNg(a.V,b);var d=DNg(a.V,b.getId(),_.DL(b)),e=EOg(a,c);c=XNg(a.Ca,b,d,c||!1,e);var f=new aLg(b,a.Ba,d);return Promise.all([d,c]).then(function(h){var k=h[0],l=h[1],m=a.ua.FU();h=l.ha();var q=new _.aT(0,h-1),r=_.p(DIg(k),3),v=aNg(_.sXc[r]);r=Math.ceil((q.end-q.start+1)/v);return a.ua.start(m,k.getTitle(),r,h).then(function(){return $Ng(a.Ca,b,f,l,q,v,function(x){a.ua.wma(m,x);
return Promise.resolve()}.bind(a),function(){return 1}).then(function(){return Promise.resolve()})})})};n1.prototype.K7b=function(a){this.H.info("drive.ds.FileServiceImpl","Streaming download of "+a.getId()+"/"+_.DL(a));var b=this.ka;return new ReadableStream({start:function(c){return new Promise(function(d,e){b.then(function(f){return f.jf(GIg(new _.$K,a))}).then(function(f){c.enqueue(f.H);c.close()}).then(d,e)})},pull:function(){},cancel:function(){}})};
n1.prototype.LBb=function(a,b){var c=this;b=void 0===b?!1:b;this.H.info("drive.ds.FileServiceImpl","Browser download/decrypt of "+a.getId()+"/"+(_.DL(a)+", oidc popup: ")+b);RNg(this.V,a);return this.ua.Xv().then(function(d){if(d)return FOg(c,a,b);var e=c.Va,f=EOg(c,b);d=DNg(c.V,a.getId(),_.DL(a));var h=bLg(c.Ba,GIg(new _.$K,a),d);f=GNg(e,a,d,b,f).then(function(k){return HNg(e,a,h,k)});return Promise.all([f,d]).then(function(k){var l=_.n(k);k=l.next().value;l=l.next().value;COg.download(new Blob([k]),
l.getTitle(),_.kd(l.getMimeType()))})})};
n1.prototype.NGb=function(a,b){var c=this;b=void 0===b?!1:b;this.H.info("drive.ds.FileServiceImpl","Encrypted to encrypted copy of "+a.getId()+"/"+(_.p(a,9)+" as ")+(a.getTitle()+", oidc popup: ")+b);var d=new hOg;try{var e=a.getId(),f=_.t(_.wWc((new _.CL).Jb(e),_.p(a,9)),6,!0),h=this.bgb(f,b),k=h.H.getReader();k.closed.catch(function(m){return d.handleError(m)});var l=GOg(k);Promise.all([l,h.O]).then(function(m){m=_.n(m);var q=m.next().value;m=m.next().value;return DNg(c.V,e,m).then(function(r){var v=
r.getMimeType();r=_.p(DIg(r),3);r=_.sXc[r];v=_.fWc(_.eWc(new _.CK,v),_.xd(a,3)).setTitle(a.getTitle());v=_.t(v,12,_.p(a,10));v=_.t(v,34,_.p(a,11));r=c.kfa(v,new Blob(q),b,r);iOg(d,r)})}).catch(function(m){d.handleError(m)})}catch(m){d.handleError(m)}return d};n1.prototype.OGb=function(a,b){b=void 0===b?!1:b;this.H.info("drive.ds.FileServiceImpl","Encrypted to encrypted copy via rewrap of "+(a.getId()+"/")+(_.p(a,9)+" as ")+(a.getTitle()+", oidc popup: ")+b);return this.Ra.copy(a,b)};
var GOg=function(a){var b=[],c=function(){return a.read().then(function(d){var e=d.value;if(!d.done){if(!e)throw Error("ai");b.push(e);return c()}})};return c().then(function(){return b})};n1.prototype.mga=function(){return this.O};var DOg=[194,193,187,13,72,21,3,210,2];
_.Es({id:_.eAg,callback:function(a){return new n1(a.get(_.bf),_.L(a.get(_.t5a),1,!1),a.get(_.Zl))}});

_.C();

}catch(e){_._DumpException(e)}
VB †Ÿ {